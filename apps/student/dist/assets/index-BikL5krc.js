function Uf(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function vg(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Bf={exports:{}},Lo={},Ff={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var as=Symbol.for("react.element"),yg=Symbol.for("react.portal"),wg=Symbol.for("react.fragment"),_g=Symbol.for("react.strict_mode"),Sg=Symbol.for("react.profiler"),Eg=Symbol.for("react.provider"),kg=Symbol.for("react.context"),xg=Symbol.for("react.forward_ref"),Cg=Symbol.for("react.suspense"),bg=Symbol.for("react.memo"),Tg=Symbol.for("react.lazy"),Cc=Symbol.iterator;function Pg(e){return e===null||typeof e!="object"?null:(e=Cc&&e[Cc]||e["@@iterator"],typeof e=="function"?e:null)}var zf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wf=Object.assign,Hf={};function Yr(e,t,n){this.props=e,this.context=t,this.refs=Hf,this.updater=n||zf}Yr.prototype.isReactComponent={};Yr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vf(){}Vf.prototype=Yr.prototype;function ou(e,t,n){this.props=e,this.context=t,this.refs=Hf,this.updater=n||zf}var au=ou.prototype=new Vf;au.constructor=ou;Wf(au,Yr.prototype);au.isPureReactComponent=!0;var bc=Array.isArray,qf=Object.prototype.hasOwnProperty,lu={current:null},Kf={key:!0,ref:!0,__self:!0,__source:!0};function Jf(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)qf.call(t,r)&&!Kf.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:as,type:e,key:s,ref:o,props:i,_owner:lu.current}}function jg(e,t){return{$$typeof:as,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function uu(e){return typeof e=="object"&&e!==null&&e.$$typeof===as}function Rg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Tc=/\/+/g;function ua(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rg(""+e.key):t.toString(36)}function Hs(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case as:case yg:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+ua(o,0):r,bc(i)?(n="",e!=null&&(n=e.replace(Tc,"$&/")+"/"),Hs(i,t,n,"",function(u){return u})):i!=null&&(uu(i)&&(i=jg(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Tc,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",bc(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+ua(s,a);o+=Hs(s,t,n,l,i)}else if(l=Pg(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+ua(s,a++),o+=Hs(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ks(e,t,n){if(e==null)return e;var r=[],i=0;return Hs(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Og(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qe={current:null},Vs={transition:null},Ag={ReactCurrentDispatcher:qe,ReactCurrentBatchConfig:Vs,ReactCurrentOwner:lu};function Gf(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:ks,forEach:function(e,t,n){ks(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ks(e,function(){t++}),t},toArray:function(e){return ks(e,function(t){return t})||[]},only:function(e){if(!uu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=Yr;Q.Fragment=wg;Q.Profiler=Sg;Q.PureComponent=ou;Q.StrictMode=_g;Q.Suspense=Cg;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ag;Q.act=Gf;Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Wf({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=lu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)qf.call(t,l)&&!Kf.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:as,type:e.type,key:i,ref:s,props:r,_owner:o}};Q.createContext=function(e){return e={$$typeof:kg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Eg,_context:e},e.Consumer=e};Q.createElement=Jf;Q.createFactory=function(e){var t=Jf.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:xg,render:e}};Q.isValidElement=uu;Q.lazy=function(e){return{$$typeof:Tg,_payload:{_status:-1,_result:e},_init:Og}};Q.memo=function(e,t){return{$$typeof:bg,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=Vs.transition;Vs.transition={};try{e()}finally{Vs.transition=t}};Q.unstable_act=Gf;Q.useCallback=function(e,t){return qe.current.useCallback(e,t)};Q.useContext=function(e){return qe.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return qe.current.useDeferredValue(e)};Q.useEffect=function(e,t){return qe.current.useEffect(e,t)};Q.useId=function(){return qe.current.useId()};Q.useImperativeHandle=function(e,t,n){return qe.current.useImperativeHandle(e,t,n)};Q.useInsertionEffect=function(e,t){return qe.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return qe.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return qe.current.useMemo(e,t)};Q.useReducer=function(e,t,n){return qe.current.useReducer(e,t,n)};Q.useRef=function(e){return qe.current.useRef(e)};Q.useState=function(e){return qe.current.useState(e)};Q.useSyncExternalStore=function(e,t,n){return qe.current.useSyncExternalStore(e,t,n)};Q.useTransition=function(){return qe.current.useTransition()};Q.version="18.3.1";Ff.exports=Q;var b=Ff.exports;const Ya=Mf(b),Ig=Uf({__proto__:null,default:Ya},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng=b,Lg=Symbol.for("react.element"),Dg=Symbol.for("react.fragment"),$g=Object.prototype.hasOwnProperty,Ug=Ng.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mg={key:!0,ref:!0,__self:!0,__source:!0};function Qf(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)$g.call(t,r)&&!Mg.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Lg,type:e,key:s,ref:o,props:i,_owner:Ug.current}}Lo.Fragment=Dg;Lo.jsx=Qf;Lo.jsxs=Qf;Bf.exports=Lo;var C=Bf.exports,Yf={exports:{}},ut={},Xf={exports:{}},Zf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,H){var V=N.length;N.push(H);e:for(;0<V;){var se=V-1>>>1,oe=N[se];if(0<i(oe,H))N[se]=H,N[V]=oe,V=se;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var H=N[0],V=N.pop();if(V!==H){N[0]=V;e:for(var se=0,oe=N.length,St=oe>>>1;se<St;){var nt=2*(se+1)-1,Fe=N[nt],ze=nt+1,dt=N[ze];if(0>i(Fe,V))ze<oe&&0>i(dt,Fe)?(N[se]=dt,N[ze]=V,se=ze):(N[se]=Fe,N[nt]=V,se=nt);else if(ze<oe&&0>i(dt,V))N[se]=dt,N[ze]=V,se=ze;else break e}}return H}function i(N,H){var V=N.sortIndex-H.sortIndex;return V!==0?V:N.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,m=!1,v=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(N){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=N)r(u),H.sortIndex=H.expirationTime,t(l,H);else break;H=n(u)}}function E(N){if(w=!1,p(N),!v)if(n(l)!==null)v=!0,_t(j);else{var H=n(u);H!==null&&At(E,H.startTime-N)}}function j(N,H){v=!1,w&&(w=!1,g(S),S=-1),m=!0;var V=f;try{for(p(H),d=n(l);d!==null&&(!(d.expirationTime>H)||N&&!F());){var se=d.callback;if(typeof se=="function"){d.callback=null,f=d.priorityLevel;var oe=se(d.expirationTime<=H);H=e.unstable_now(),typeof oe=="function"?d.callback=oe:d===n(l)&&r(l),p(H)}else r(l);d=n(l)}if(d!==null)var St=!0;else{var nt=n(u);nt!==null&&At(E,nt.startTime-H),St=!1}return St}finally{d=null,f=V,m=!1}}var R=!1,y=null,S=-1,P=5,O=-1;function F(){return!(e.unstable_now()-O<P)}function K(){if(y!==null){var N=e.unstable_now();O=N;var H=!0;try{H=y(!0,N)}finally{H?ce():(R=!1,y=null)}}else R=!1}var ce;if(typeof h=="function")ce=function(){h(K)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,he=ie.port2;ie.port1.onmessage=K,ce=function(){he.postMessage(null)}}else ce=function(){x(K,0)};function _t(N){y=N,R||(R=!0,ce())}function At(N,H){S=x(function(){N(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,_t(j))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(N){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var V=f;f=H;try{return N()}finally{f=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,H){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var V=f;f=N;try{return H()}finally{f=V}},e.unstable_scheduleCallback=function(N,H,V){var se=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?se+V:se):V=se,N){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=V+oe,N={id:c++,callback:H,priorityLevel:N,startTime:V,expirationTime:oe,sortIndex:-1},V>se?(N.sortIndex=V,t(u,N),n(l)===null&&N===n(u)&&(w?(g(S),S=-1):w=!0,At(E,V-se))):(N.sortIndex=oe,t(l,N),v||m||(v=!0,_t(j))),N},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(N){var H=f;return function(){var V=f;f=H;try{return N.apply(this,arguments)}finally{f=V}}}})(Zf);Xf.exports=Zf;var Bg=Xf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg=b,lt=Bg;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eh=new Set,Ui={};function nr(e,t){zr(e,t),zr(e+"Capture",t)}function zr(e,t){for(Ui[e]=t,e=0;e<t.length;e++)eh.add(t[e])}var Qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xa=Object.prototype.hasOwnProperty,zg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pc={},jc={};function Wg(e){return Xa.call(jc,e)?!0:Xa.call(Pc,e)?!1:zg.test(e)?jc[e]=!0:(Pc[e]=!0,!1)}function Hg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Vg(e,t,n,r){if(t===null||typeof t>"u"||Hg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ke(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){De[e]=new Ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];De[t]=new Ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){De[e]=new Ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){De[e]=new Ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){De[e]=new Ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){De[e]=new Ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){De[e]=new Ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){De[e]=new Ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){De[e]=new Ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var cu=/[\-:]([a-z])/g;function du(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cu,du);De[t]=new Ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cu,du);De[t]=new Ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cu,du);De[t]=new Ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){De[e]=new Ke(e,1,!1,e.toLowerCase(),null,!1,!1)});De.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){De[e]=new Ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function fu(e,t,n,r){var i=De.hasOwnProperty(t)?De[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Vg(t,n,i,r)&&(n=null),r||i===null?Wg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var en=Fg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xs=Symbol.for("react.element"),kr=Symbol.for("react.portal"),xr=Symbol.for("react.fragment"),hu=Symbol.for("react.strict_mode"),Za=Symbol.for("react.profiler"),th=Symbol.for("react.provider"),nh=Symbol.for("react.context"),pu=Symbol.for("react.forward_ref"),el=Symbol.for("react.suspense"),tl=Symbol.for("react.suspense_list"),mu=Symbol.for("react.memo"),ln=Symbol.for("react.lazy"),rh=Symbol.for("react.offscreen"),Rc=Symbol.iterator;function ai(e){return e===null||typeof e!="object"?null:(e=Rc&&e[Rc]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,ca;function _i(e){if(ca===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ca=t&&t[1]||""}return`
`+ca+e}var da=!1;function fa(e,t){if(!e||da)return"";da=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{da=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_i(e):""}function qg(e){switch(e.tag){case 5:return _i(e.type);case 16:return _i("Lazy");case 13:return _i("Suspense");case 19:return _i("SuspenseList");case 0:case 2:case 15:return e=fa(e.type,!1),e;case 11:return e=fa(e.type.render,!1),e;case 1:return e=fa(e.type,!0),e;default:return""}}function nl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xr:return"Fragment";case kr:return"Portal";case Za:return"Profiler";case hu:return"StrictMode";case el:return"Suspense";case tl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nh:return(e.displayName||"Context")+".Consumer";case th:return(e._context.displayName||"Context")+".Provider";case pu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mu:return t=e.displayName||null,t!==null?t:nl(e.type)||"Memo";case ln:t=e._payload,e=e._init;try{return nl(e(t))}catch{}}return null}function Kg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nl(t);case 8:return t===hu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ih(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jg(e){var t=ih(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cs(e){e._valueTracker||(e._valueTracker=Jg(e))}function sh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ih(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ro(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rl(e,t){var n=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Oc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=xn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function oh(e,t){t=t.checked,t!=null&&fu(e,"checked",t,!1)}function il(e,t){oh(e,t);var n=xn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sl(e,t.type,n):t.hasOwnProperty("defaultValue")&&sl(e,t.type,xn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ac(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function sl(e,t,n){(t!=="number"||ro(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Si=Array.isArray;function Lr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+xn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ol(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ic(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(Si(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xn(n)}}function ah(e,t){var n=xn(t.value),r=xn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Nc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function al(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bs,uh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bs=bs||document.createElement("div"),bs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gg=["Webkit","ms","Moz","O"];Object.keys(bi).forEach(function(e){Gg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bi[t]=bi[e]})});function ch(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bi.hasOwnProperty(e)&&bi[e]?(""+t).trim():t+"px"}function dh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ch(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Qg=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ll(e,t){if(t){if(Qg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function ul(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cl=null;function gu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dl=null,Dr=null,$r=null;function Lc(e){if(e=cs(e)){if(typeof dl!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Bo(t),dl(e.stateNode,e.type,t))}}function fh(e){Dr?$r?$r.push(e):$r=[e]:Dr=e}function hh(){if(Dr){var e=Dr,t=$r;if($r=Dr=null,Lc(e),t)for(e=0;e<t.length;e++)Lc(t[e])}}function ph(e,t){return e(t)}function mh(){}var ha=!1;function gh(e,t,n){if(ha)return e(t,n);ha=!0;try{return ph(e,t,n)}finally{ha=!1,(Dr!==null||$r!==null)&&(mh(),hh())}}function Bi(e,t){var n=e.stateNode;if(n===null)return null;var r=Bo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var fl=!1;if(Qt)try{var li={};Object.defineProperty(li,"passive",{get:function(){fl=!0}}),window.addEventListener("test",li,li),window.removeEventListener("test",li,li)}catch{fl=!1}function Yg(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ti=!1,io=null,so=!1,hl=null,Xg={onError:function(e){Ti=!0,io=e}};function Zg(e,t,n,r,i,s,o,a,l){Ti=!1,io=null,Yg.apply(Xg,arguments)}function ev(e,t,n,r,i,s,o,a,l){if(Zg.apply(this,arguments),Ti){if(Ti){var u=io;Ti=!1,io=null}else throw Error(I(198));so||(so=!0,hl=u)}}function rr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Dc(e){if(rr(e)!==e)throw Error(I(188))}function tv(e){var t=e.alternate;if(!t){if(t=rr(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Dc(i),e;if(s===r)return Dc(i),t;s=s.sibling}throw Error(I(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function yh(e){return e=tv(e),e!==null?wh(e):null}function wh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wh(e);if(t!==null)return t;e=e.sibling}return null}var _h=lt.unstable_scheduleCallback,$c=lt.unstable_cancelCallback,nv=lt.unstable_shouldYield,rv=lt.unstable_requestPaint,Ee=lt.unstable_now,iv=lt.unstable_getCurrentPriorityLevel,vu=lt.unstable_ImmediatePriority,Sh=lt.unstable_UserBlockingPriority,oo=lt.unstable_NormalPriority,sv=lt.unstable_LowPriority,Eh=lt.unstable_IdlePriority,Do=null,Mt=null;function ov(e){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Do,e,void 0,(e.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:uv,av=Math.log,lv=Math.LN2;function uv(e){return e>>>=0,e===0?32:31-(av(e)/lv|0)|0}var Ts=64,Ps=4194304;function Ei(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ao(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ei(a):(s&=o,s!==0&&(r=Ei(s)))}else o=n&~i,o!==0?r=Ei(o):s!==0&&(r=Ei(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-jt(t),i=1<<n,r|=e[n],t&=~i;return r}function cv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-jt(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=cv(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function pl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kh(){var e=Ts;return Ts<<=1,!(Ts&4194240)&&(Ts=64),e}function pa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ls(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jt(t),e[t]=n}function fv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-jt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function yu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-jt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var re=0;function xh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ch,wu,bh,Th,Ph,ml=!1,js=[],gn=null,vn=null,yn=null,Fi=new Map,zi=new Map,cn=[],hv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uc(e,t){switch(e){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":yn=null;break;case"pointerover":case"pointerout":Fi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zi.delete(t.pointerId)}}function ui(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=cs(t),t!==null&&wu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function pv(e,t,n,r,i){switch(t){case"focusin":return gn=ui(gn,e,t,n,r,i),!0;case"dragenter":return vn=ui(vn,e,t,n,r,i),!0;case"mouseover":return yn=ui(yn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Fi.set(s,ui(Fi.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,zi.set(s,ui(zi.get(s)||null,e,t,n,r,i)),!0}return!1}function jh(e){var t=Wn(e.target);if(t!==null){var n=rr(t);if(n!==null){if(t=n.tag,t===13){if(t=vh(n),t!==null){e.blockedOn=t,Ph(e.priority,function(){bh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=gl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);cl=r,n.target.dispatchEvent(r),cl=null}else return t=cs(n),t!==null&&wu(t),e.blockedOn=n,!1;t.shift()}return!0}function Mc(e,t,n){qs(e)&&n.delete(t)}function mv(){ml=!1,gn!==null&&qs(gn)&&(gn=null),vn!==null&&qs(vn)&&(vn=null),yn!==null&&qs(yn)&&(yn=null),Fi.forEach(Mc),zi.forEach(Mc)}function ci(e,t){e.blockedOn===t&&(e.blockedOn=null,ml||(ml=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,mv)))}function Wi(e){function t(i){return ci(i,e)}if(0<js.length){ci(js[0],e);for(var n=1;n<js.length;n++){var r=js[n];r.blockedOn===e&&(r.blockedOn=null)}}for(gn!==null&&ci(gn,e),vn!==null&&ci(vn,e),yn!==null&&ci(yn,e),Fi.forEach(t),zi.forEach(t),n=0;n<cn.length;n++)r=cn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<cn.length&&(n=cn[0],n.blockedOn===null);)jh(n),n.blockedOn===null&&cn.shift()}var Ur=en.ReactCurrentBatchConfig,lo=!0;function gv(e,t,n,r){var i=re,s=Ur.transition;Ur.transition=null;try{re=1,_u(e,t,n,r)}finally{re=i,Ur.transition=s}}function vv(e,t,n,r){var i=re,s=Ur.transition;Ur.transition=null;try{re=4,_u(e,t,n,r)}finally{re=i,Ur.transition=s}}function _u(e,t,n,r){if(lo){var i=gl(e,t,n,r);if(i===null)xa(e,t,r,uo,n),Uc(e,r);else if(pv(i,e,t,n,r))r.stopPropagation();else if(Uc(e,r),t&4&&-1<hv.indexOf(e)){for(;i!==null;){var s=cs(i);if(s!==null&&Ch(s),s=gl(e,t,n,r),s===null&&xa(e,t,r,uo,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else xa(e,t,r,null,n)}}var uo=null;function gl(e,t,n,r){if(uo=null,e=gu(r),e=Wn(e),e!==null)if(t=rr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=vh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return uo=e,null}function Rh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iv()){case vu:return 1;case Sh:return 4;case oo:case sv:return 16;case Eh:return 536870912;default:return 16}default:return 16}}var hn=null,Su=null,Ks=null;function Oh(){if(Ks)return Ks;var e,t=Su,n=t.length,r,i="value"in hn?hn.value:hn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ks=i.slice(e,1<r?1-r:void 0)}function Js(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rs(){return!0}function Bc(){return!1}function ct(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Rs:Bc,this.isPropagationStopped=Bc,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rs)},persist:function(){},isPersistent:Rs}),t}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eu=ct(Xr),us=ye({},Xr,{view:0,detail:0}),yv=ct(us),ma,ga,di,$o=ye({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ku,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(ma=e.screenX-di.screenX,ga=e.screenY-di.screenY):ga=ma=0,di=e),ma)},movementY:function(e){return"movementY"in e?e.movementY:ga}}),Fc=ct($o),wv=ye({},$o,{dataTransfer:0}),_v=ct(wv),Sv=ye({},us,{relatedTarget:0}),va=ct(Sv),Ev=ye({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),kv=ct(Ev),xv=ye({},Xr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cv=ct(xv),bv=ye({},Xr,{data:0}),zc=ct(bv),Tv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jv[e])?!!t[e]:!1}function ku(){return Rv}var Ov=ye({},us,{key:function(e){if(e.key){var t=Tv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ku,charCode:function(e){return e.type==="keypress"?Js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Av=ct(Ov),Iv=ye({},$o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wc=ct(Iv),Nv=ye({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ku}),Lv=ct(Nv),Dv=ye({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),$v=ct(Dv),Uv=ye({},$o,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mv=ct(Uv),Bv=[9,13,27,32],xu=Qt&&"CompositionEvent"in window,Pi=null;Qt&&"documentMode"in document&&(Pi=document.documentMode);var Fv=Qt&&"TextEvent"in window&&!Pi,Ah=Qt&&(!xu||Pi&&8<Pi&&11>=Pi),Hc=" ",Vc=!1;function Ih(e,t){switch(e){case"keyup":return Bv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cr=!1;function zv(e,t){switch(e){case"compositionend":return Nh(t);case"keypress":return t.which!==32?null:(Vc=!0,Hc);case"textInput":return e=t.data,e===Hc&&Vc?null:e;default:return null}}function Wv(e,t){if(Cr)return e==="compositionend"||!xu&&Ih(e,t)?(e=Oh(),Ks=Su=hn=null,Cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ah&&t.locale!=="ko"?null:t.data;default:return null}}var Hv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hv[e.type]:t==="textarea"}function Lh(e,t,n,r){fh(r),t=co(t,"onChange"),0<t.length&&(n=new Eu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ji=null,Hi=null;function Vv(e){qh(e,0)}function Uo(e){var t=Pr(e);if(sh(t))return e}function qv(e,t){if(e==="change")return t}var Dh=!1;if(Qt){var ya;if(Qt){var wa="oninput"in document;if(!wa){var Kc=document.createElement("div");Kc.setAttribute("oninput","return;"),wa=typeof Kc.oninput=="function"}ya=wa}else ya=!1;Dh=ya&&(!document.documentMode||9<document.documentMode)}function Jc(){ji&&(ji.detachEvent("onpropertychange",$h),Hi=ji=null)}function $h(e){if(e.propertyName==="value"&&Uo(Hi)){var t=[];Lh(t,Hi,e,gu(e)),gh(Vv,t)}}function Kv(e,t,n){e==="focusin"?(Jc(),ji=t,Hi=n,ji.attachEvent("onpropertychange",$h)):e==="focusout"&&Jc()}function Jv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uo(Hi)}function Gv(e,t){if(e==="click")return Uo(t)}function Qv(e,t){if(e==="input"||e==="change")return Uo(t)}function Yv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:Yv;function Vi(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Xa.call(t,i)||!Ot(e[i],t[i]))return!1}return!0}function Gc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qc(e,t){var n=Gc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gc(n)}}function Uh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Uh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mh(){for(var e=window,t=ro();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ro(e.document)}return t}function Cu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xv(e){var t=Mh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Uh(n.ownerDocument.documentElement,n)){if(r!==null&&Cu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Qc(n,s);var o=Qc(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Zv=Qt&&"documentMode"in document&&11>=document.documentMode,br=null,vl=null,Ri=null,yl=!1;function Yc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yl||br==null||br!==ro(r)||(r=br,"selectionStart"in r&&Cu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ri&&Vi(Ri,r)||(Ri=r,r=co(vl,"onSelect"),0<r.length&&(t=new Eu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}function Os(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tr={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionend:Os("Transition","TransitionEnd")},_a={},Bh={};Qt&&(Bh=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);function Mo(e){if(_a[e])return _a[e];if(!Tr[e])return e;var t=Tr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Bh)return _a[e]=t[n];return e}var Fh=Mo("animationend"),zh=Mo("animationiteration"),Wh=Mo("animationstart"),Hh=Mo("transitionend"),Vh=new Map,Xc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bn(e,t){Vh.set(e,t),nr(t,[e])}for(var Sa=0;Sa<Xc.length;Sa++){var Ea=Xc[Sa],ey=Ea.toLowerCase(),ty=Ea[0].toUpperCase()+Ea.slice(1);bn(ey,"on"+ty)}bn(Fh,"onAnimationEnd");bn(zh,"onAnimationIteration");bn(Wh,"onAnimationStart");bn("dblclick","onDoubleClick");bn("focusin","onFocus");bn("focusout","onBlur");bn(Hh,"onTransitionEnd");zr("onMouseEnter",["mouseout","mouseover"]);zr("onMouseLeave",["mouseout","mouseover"]);zr("onPointerEnter",["pointerout","pointerover"]);zr("onPointerLeave",["pointerout","pointerover"]);nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nr("onBeforeInput",["compositionend","keypress","textInput","paste"]);nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ny=new Set("cancel close invalid load scroll toggle".split(" ").concat(ki));function Zc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ev(r,t,void 0,e),e.currentTarget=null}function qh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Zc(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Zc(i,a,u),s=l}}}if(so)throw e=hl,so=!1,hl=null,e}function de(e,t){var n=t[kl];n===void 0&&(n=t[kl]=new Set);var r=e+"__bubble";n.has(r)||(Kh(t,e,2,!1),n.add(r))}function ka(e,t,n){var r=0;t&&(r|=4),Kh(n,e,r,t)}var As="_reactListening"+Math.random().toString(36).slice(2);function qi(e){if(!e[As]){e[As]=!0,eh.forEach(function(n){n!=="selectionchange"&&(ny.has(n)||ka(n,!1,e),ka(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[As]||(t[As]=!0,ka("selectionchange",!1,t))}}function Kh(e,t,n,r){switch(Rh(t)){case 1:var i=gv;break;case 4:i=vv;break;default:i=_u}n=i.bind(null,t,n,e),i=void 0,!fl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function xa(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Wn(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}gh(function(){var u=s,c=gu(n),d=[];e:{var f=Vh.get(e);if(f!==void 0){var m=Eu,v=e;switch(e){case"keypress":if(Js(n)===0)break e;case"keydown":case"keyup":m=Av;break;case"focusin":v="focus",m=va;break;case"focusout":v="blur",m=va;break;case"beforeblur":case"afterblur":m=va;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=_v;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Lv;break;case Fh:case zh:case Wh:m=kv;break;case Hh:m=$v;break;case"scroll":m=yv;break;case"wheel":m=Mv;break;case"copy":case"cut":case"paste":m=Cv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Wc}var w=(t&4)!==0,x=!w&&e==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var h=u,p;h!==null;){p=h;var E=p.stateNode;if(p.tag===5&&E!==null&&(p=E,g!==null&&(E=Bi(h,g),E!=null&&w.push(Ki(h,E,p)))),x)break;h=h.return}0<w.length&&(f=new m(f,v,null,n,c),d.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==cl&&(v=n.relatedTarget||n.fromElement)&&(Wn(v)||v[Yt]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?Wn(v):null,v!==null&&(x=rr(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(w=Fc,E="onMouseLeave",g="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(w=Wc,E="onPointerLeave",g="onPointerEnter",h="pointer"),x=m==null?f:Pr(m),p=v==null?f:Pr(v),f=new w(E,h+"leave",m,n,c),f.target=x,f.relatedTarget=p,E=null,Wn(c)===u&&(w=new w(g,h+"enter",v,n,c),w.target=p,w.relatedTarget=x,E=w),x=E,m&&v)t:{for(w=m,g=v,h=0,p=w;p;p=fr(p))h++;for(p=0,E=g;E;E=fr(E))p++;for(;0<h-p;)w=fr(w),h--;for(;0<p-h;)g=fr(g),p--;for(;h--;){if(w===g||g!==null&&w===g.alternate)break t;w=fr(w),g=fr(g)}w=null}else w=null;m!==null&&ed(d,f,m,w,!1),v!==null&&x!==null&&ed(d,x,v,w,!0)}}e:{if(f=u?Pr(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var j=qv;else if(qc(f))if(Dh)j=Qv;else{j=Jv;var R=Kv}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=Gv);if(j&&(j=j(e,u))){Lh(d,j,n,c);break e}R&&R(e,f,u),e==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&sl(f,"number",f.value)}switch(R=u?Pr(u):window,e){case"focusin":(qc(R)||R.contentEditable==="true")&&(br=R,vl=u,Ri=null);break;case"focusout":Ri=vl=br=null;break;case"mousedown":yl=!0;break;case"contextmenu":case"mouseup":case"dragend":yl=!1,Yc(d,n,c);break;case"selectionchange":if(Zv)break;case"keydown":case"keyup":Yc(d,n,c)}var y;if(xu)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Cr?Ih(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Ah&&n.locale!=="ko"&&(Cr||S!=="onCompositionStart"?S==="onCompositionEnd"&&Cr&&(y=Oh()):(hn=c,Su="value"in hn?hn.value:hn.textContent,Cr=!0)),R=co(u,S),0<R.length&&(S=new zc(S,e,null,n,c),d.push({event:S,listeners:R}),y?S.data=y:(y=Nh(n),y!==null&&(S.data=y)))),(y=Fv?zv(e,n):Wv(e,n))&&(u=co(u,"onBeforeInput"),0<u.length&&(c=new zc("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=y))}qh(d,t)})}function Ki(e,t,n){return{instance:e,listener:t,currentTarget:n}}function co(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Bi(e,n),s!=null&&r.unshift(Ki(e,s,i)),s=Bi(e,t),s!=null&&r.push(Ki(e,s,i))),e=e.return}return r}function fr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ed(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Bi(n,s),l!=null&&o.unshift(Ki(n,l,a))):i||(l=Bi(n,s),l!=null&&o.push(Ki(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var ry=/\r\n?/g,iy=/\u0000|\uFFFD/g;function td(e){return(typeof e=="string"?e:""+e).replace(ry,`
`).replace(iy,"")}function Is(e,t,n){if(t=td(t),td(e)!==t&&n)throw Error(I(425))}function fo(){}var wl=null,_l=null;function Sl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var El=typeof setTimeout=="function"?setTimeout:void 0,sy=typeof clearTimeout=="function"?clearTimeout:void 0,nd=typeof Promise=="function"?Promise:void 0,oy=typeof queueMicrotask=="function"?queueMicrotask:typeof nd<"u"?function(e){return nd.resolve(null).then(e).catch(ay)}:El;function ay(e){setTimeout(function(){throw e})}function Ca(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Wi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wi(t)}function wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zr=Math.random().toString(36).slice(2),Ut="__reactFiber$"+Zr,Ji="__reactProps$"+Zr,Yt="__reactContainer$"+Zr,kl="__reactEvents$"+Zr,ly="__reactListeners$"+Zr,uy="__reactHandles$"+Zr;function Wn(e){var t=e[Ut];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yt]||n[Ut]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=rd(e);e!==null;){if(n=e[Ut])return n;e=rd(e)}return t}e=n,n=e.parentNode}return null}function cs(e){return e=e[Ut]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Bo(e){return e[Ji]||null}var xl=[],jr=-1;function Tn(e){return{current:e}}function fe(e){0>jr||(e.current=xl[jr],xl[jr]=null,jr--)}function ue(e,t){jr++,xl[jr]=e.current,e.current=t}var Cn={},Be=Tn(Cn),Ze=Tn(!1),Qn=Cn;function Wr(e,t){var n=e.type.contextTypes;if(!n)return Cn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function et(e){return e=e.childContextTypes,e!=null}function ho(){fe(Ze),fe(Be)}function id(e,t,n){if(Be.current!==Cn)throw Error(I(168));ue(Be,t),ue(Ze,n)}function Jh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(I(108,Kg(e)||"Unknown",i));return ye({},n,r)}function po(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cn,Qn=Be.current,ue(Be,e),ue(Ze,Ze.current),!0}function sd(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=Jh(e,t,Qn),r.__reactInternalMemoizedMergedChildContext=e,fe(Ze),fe(Be),ue(Be,e)):fe(Ze),ue(Ze,n)}var Vt=null,Fo=!1,ba=!1;function Gh(e){Vt===null?Vt=[e]:Vt.push(e)}function cy(e){Fo=!0,Gh(e)}function Pn(){if(!ba&&Vt!==null){ba=!0;var e=0,t=re;try{var n=Vt;for(re=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vt=null,Fo=!1}catch(i){throw Vt!==null&&(Vt=Vt.slice(e+1)),_h(vu,Pn),i}finally{re=t,ba=!1}}return null}var Rr=[],Or=0,mo=null,go=0,ft=[],ht=0,Yn=null,qt=1,Kt="";function Dn(e,t){Rr[Or++]=go,Rr[Or++]=mo,mo=e,go=t}function Qh(e,t,n){ft[ht++]=qt,ft[ht++]=Kt,ft[ht++]=Yn,Yn=e;var r=qt;e=Kt;var i=32-jt(r)-1;r&=~(1<<i),n+=1;var s=32-jt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,qt=1<<32-jt(t)+i|n<<i|r,Kt=s+e}else qt=1<<s|n<<i|r,Kt=e}function bu(e){e.return!==null&&(Dn(e,1),Qh(e,1,0))}function Tu(e){for(;e===mo;)mo=Rr[--Or],Rr[Or]=null,go=Rr[--Or],Rr[Or]=null;for(;e===Yn;)Yn=ft[--ht],ft[ht]=null,Kt=ft[--ht],ft[ht]=null,qt=ft[--ht],ft[ht]=null}var at=null,ot=null,me=!1,Pt=null;function Yh(e,t){var n=mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function od(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,at=e,ot=wn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,at=e,ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Yn!==null?{id:qt,overflow:Kt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,at=e,ot=null,!0):!1;default:return!1}}function Cl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bl(e){if(me){var t=ot;if(t){var n=t;if(!od(e,t)){if(Cl(e))throw Error(I(418));t=wn(n.nextSibling);var r=at;t&&od(e,t)?Yh(r,n):(e.flags=e.flags&-4097|2,me=!1,at=e)}}else{if(Cl(e))throw Error(I(418));e.flags=e.flags&-4097|2,me=!1,at=e}}}function ad(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;at=e}function Ns(e){if(e!==at)return!1;if(!me)return ad(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Sl(e.type,e.memoizedProps)),t&&(t=ot)){if(Cl(e))throw Xh(),Error(I(418));for(;t;)Yh(e,t),t=wn(t.nextSibling)}if(ad(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ot=wn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ot=null}}else ot=at?wn(e.stateNode.nextSibling):null;return!0}function Xh(){for(var e=ot;e;)e=wn(e.nextSibling)}function Hr(){ot=at=null,me=!1}function Pu(e){Pt===null?Pt=[e]:Pt.push(e)}var dy=en.ReactCurrentBatchConfig;function fi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function Ls(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ld(e){var t=e._init;return t(e._payload)}function Zh(e){function t(g,h){if(e){var p=g.deletions;p===null?(g.deletions=[h],g.flags|=16):p.push(h)}}function n(g,h){if(!e)return null;for(;h!==null;)t(g,h),h=h.sibling;return null}function r(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function i(g,h){return g=kn(g,h),g.index=0,g.sibling=null,g}function s(g,h,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<h?(g.flags|=2,h):p):(g.flags|=2,h)):(g.flags|=1048576,h)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,h,p,E){return h===null||h.tag!==6?(h=Ia(p,g.mode,E),h.return=g,h):(h=i(h,p),h.return=g,h)}function l(g,h,p,E){var j=p.type;return j===xr?c(g,h,p.props.children,E,p.key):h!==null&&(h.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ln&&ld(j)===h.type)?(E=i(h,p.props),E.ref=fi(g,h,p),E.return=g,E):(E=to(p.type,p.key,p.props,null,g.mode,E),E.ref=fi(g,h,p),E.return=g,E)}function u(g,h,p,E){return h===null||h.tag!==4||h.stateNode.containerInfo!==p.containerInfo||h.stateNode.implementation!==p.implementation?(h=Na(p,g.mode,E),h.return=g,h):(h=i(h,p.children||[]),h.return=g,h)}function c(g,h,p,E,j){return h===null||h.tag!==7?(h=Gn(p,g.mode,E,j),h.return=g,h):(h=i(h,p),h.return=g,h)}function d(g,h,p){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Ia(""+h,g.mode,p),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case xs:return p=to(h.type,h.key,h.props,null,g.mode,p),p.ref=fi(g,null,h),p.return=g,p;case kr:return h=Na(h,g.mode,p),h.return=g,h;case ln:var E=h._init;return d(g,E(h._payload),p)}if(Si(h)||ai(h))return h=Gn(h,g.mode,p,null),h.return=g,h;Ls(g,h)}return null}function f(g,h,p,E){var j=h!==null?h.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return j!==null?null:a(g,h,""+p,E);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case xs:return p.key===j?l(g,h,p,E):null;case kr:return p.key===j?u(g,h,p,E):null;case ln:return j=p._init,f(g,h,j(p._payload),E)}if(Si(p)||ai(p))return j!==null?null:c(g,h,p,E,null);Ls(g,p)}return null}function m(g,h,p,E,j){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(p)||null,a(h,g,""+E,j);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case xs:return g=g.get(E.key===null?p:E.key)||null,l(h,g,E,j);case kr:return g=g.get(E.key===null?p:E.key)||null,u(h,g,E,j);case ln:var R=E._init;return m(g,h,p,R(E._payload),j)}if(Si(E)||ai(E))return g=g.get(p)||null,c(h,g,E,j,null);Ls(h,E)}return null}function v(g,h,p,E){for(var j=null,R=null,y=h,S=h=0,P=null;y!==null&&S<p.length;S++){y.index>S?(P=y,y=null):P=y.sibling;var O=f(g,y,p[S],E);if(O===null){y===null&&(y=P);break}e&&y&&O.alternate===null&&t(g,y),h=s(O,h,S),R===null?j=O:R.sibling=O,R=O,y=P}if(S===p.length)return n(g,y),me&&Dn(g,S),j;if(y===null){for(;S<p.length;S++)y=d(g,p[S],E),y!==null&&(h=s(y,h,S),R===null?j=y:R.sibling=y,R=y);return me&&Dn(g,S),j}for(y=r(g,y);S<p.length;S++)P=m(y,g,S,p[S],E),P!==null&&(e&&P.alternate!==null&&y.delete(P.key===null?S:P.key),h=s(P,h,S),R===null?j=P:R.sibling=P,R=P);return e&&y.forEach(function(F){return t(g,F)}),me&&Dn(g,S),j}function w(g,h,p,E){var j=ai(p);if(typeof j!="function")throw Error(I(150));if(p=j.call(p),p==null)throw Error(I(151));for(var R=j=null,y=h,S=h=0,P=null,O=p.next();y!==null&&!O.done;S++,O=p.next()){y.index>S?(P=y,y=null):P=y.sibling;var F=f(g,y,O.value,E);if(F===null){y===null&&(y=P);break}e&&y&&F.alternate===null&&t(g,y),h=s(F,h,S),R===null?j=F:R.sibling=F,R=F,y=P}if(O.done)return n(g,y),me&&Dn(g,S),j;if(y===null){for(;!O.done;S++,O=p.next())O=d(g,O.value,E),O!==null&&(h=s(O,h,S),R===null?j=O:R.sibling=O,R=O);return me&&Dn(g,S),j}for(y=r(g,y);!O.done;S++,O=p.next())O=m(y,g,S,O.value,E),O!==null&&(e&&O.alternate!==null&&y.delete(O.key===null?S:O.key),h=s(O,h,S),R===null?j=O:R.sibling=O,R=O);return e&&y.forEach(function(K){return t(g,K)}),me&&Dn(g,S),j}function x(g,h,p,E){if(typeof p=="object"&&p!==null&&p.type===xr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case xs:e:{for(var j=p.key,R=h;R!==null;){if(R.key===j){if(j=p.type,j===xr){if(R.tag===7){n(g,R.sibling),h=i(R,p.props.children),h.return=g,g=h;break e}}else if(R.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ln&&ld(j)===R.type){n(g,R.sibling),h=i(R,p.props),h.ref=fi(g,R,p),h.return=g,g=h;break e}n(g,R);break}else t(g,R);R=R.sibling}p.type===xr?(h=Gn(p.props.children,g.mode,E,p.key),h.return=g,g=h):(E=to(p.type,p.key,p.props,null,g.mode,E),E.ref=fi(g,h,p),E.return=g,g=E)}return o(g);case kr:e:{for(R=p.key;h!==null;){if(h.key===R)if(h.tag===4&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){n(g,h.sibling),h=i(h,p.children||[]),h.return=g,g=h;break e}else{n(g,h);break}else t(g,h);h=h.sibling}h=Na(p,g.mode,E),h.return=g,g=h}return o(g);case ln:return R=p._init,x(g,h,R(p._payload),E)}if(Si(p))return v(g,h,p,E);if(ai(p))return w(g,h,p,E);Ls(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,h!==null&&h.tag===6?(n(g,h.sibling),h=i(h,p),h.return=g,g=h):(n(g,h),h=Ia(p,g.mode,E),h.return=g,g=h),o(g)):n(g,h)}return x}var Vr=Zh(!0),ep=Zh(!1),vo=Tn(null),yo=null,Ar=null,ju=null;function Ru(){ju=Ar=yo=null}function Ou(e){var t=vo.current;fe(vo),e._currentValue=t}function Tl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Mr(e,t){yo=e,ju=Ar=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xe=!0),e.firstContext=null)}function yt(e){var t=e._currentValue;if(ju!==e)if(e={context:e,memoizedValue:t,next:null},Ar===null){if(yo===null)throw Error(I(308));Ar=e,yo.dependencies={lanes:0,firstContext:e}}else Ar=Ar.next=e;return t}var Hn=null;function Au(e){Hn===null?Hn=[e]:Hn.push(e)}function tp(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Au(t)):(n.next=i.next,i.next=n),t.interleaved=n,Xt(e,r)}function Xt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var un=!1;function Iu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function np(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _n(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Z&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Xt(e,n)}return i=r.interleaved,i===null?(t.next=t,Au(r)):(t.next=i.next,i.next=t),r.interleaved=t,Xt(e,n)}function Gs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yu(e,n)}}function ud(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wo(e,t,n,r){var i=e.updateQueue;un=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,w=a;switch(f=t,m=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){d=v.call(m,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(m,d,f):v,f==null)break e;d=ye({},d,f);break e;case 2:un=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Zn|=o,e.lanes=o,e.memoizedState=d}}function cd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(I(191,i));i.call(r)}}}var ds={},Bt=Tn(ds),Gi=Tn(ds),Qi=Tn(ds);function Vn(e){if(e===ds)throw Error(I(174));return e}function Nu(e,t){switch(ue(Qi,t),ue(Gi,e),ue(Bt,ds),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:al(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=al(t,e)}fe(Bt),ue(Bt,t)}function qr(){fe(Bt),fe(Gi),fe(Qi)}function rp(e){Vn(Qi.current);var t=Vn(Bt.current),n=al(t,e.type);t!==n&&(ue(Gi,e),ue(Bt,n))}function Lu(e){Gi.current===e&&(fe(Bt),fe(Gi))}var ge=Tn(0);function _o(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ta=[];function Du(){for(var e=0;e<Ta.length;e++)Ta[e]._workInProgressVersionPrimary=null;Ta.length=0}var Qs=en.ReactCurrentDispatcher,Pa=en.ReactCurrentBatchConfig,Xn=0,ve=null,je=null,Oe=null,So=!1,Oi=!1,Yi=0,fy=0;function $e(){throw Error(I(321))}function $u(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ot(e[n],t[n]))return!1;return!0}function Uu(e,t,n,r,i,s){if(Xn=s,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qs.current=e===null||e.memoizedState===null?gy:vy,e=n(r,i),Oi){s=0;do{if(Oi=!1,Yi=0,25<=s)throw Error(I(301));s+=1,Oe=je=null,t.updateQueue=null,Qs.current=yy,e=n(r,i)}while(Oi)}if(Qs.current=Eo,t=je!==null&&je.next!==null,Xn=0,Oe=je=ve=null,So=!1,t)throw Error(I(300));return e}function Mu(){var e=Yi!==0;return Yi=0,e}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?ve.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function wt(){if(je===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=Oe===null?ve.memoizedState:Oe.next;if(t!==null)Oe=t,je=e;else{if(e===null)throw Error(I(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Oe===null?ve.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function Xi(e,t){return typeof t=="function"?t(e):t}function ja(e){var t=wt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=je,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Xn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,ve.lanes|=c,Zn|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Ot(r,t.memoizedState)||(Xe=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ve.lanes|=s,Zn|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ra(e){var t=wt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Ot(s,t.memoizedState)||(Xe=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ip(){}function sp(e,t){var n=ve,r=wt(),i=t(),s=!Ot(r.memoizedState,i);if(s&&(r.memoizedState=i,Xe=!0),r=r.queue,Bu(lp.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Oe!==null&&Oe.memoizedState.tag&1){if(n.flags|=2048,Zi(9,ap.bind(null,n,r,i,t),void 0,null),Ae===null)throw Error(I(349));Xn&30||op(n,t,i)}return i}function op(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ap(e,t,n,r){t.value=n,t.getSnapshot=r,up(t)&&cp(e)}function lp(e,t,n){return n(function(){up(t)&&cp(e)})}function up(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ot(e,n)}catch{return!0}}function cp(e){var t=Xt(e,1);t!==null&&Rt(t,e,1,-1)}function dd(e){var t=Dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:e},t.queue=e,e=e.dispatch=my.bind(null,ve,e),[t.memoizedState,e]}function Zi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function dp(){return wt().memoizedState}function Ys(e,t,n,r){var i=Dt();ve.flags|=e,i.memoizedState=Zi(1|t,n,void 0,r===void 0?null:r)}function zo(e,t,n,r){var i=wt();r=r===void 0?null:r;var s=void 0;if(je!==null){var o=je.memoizedState;if(s=o.destroy,r!==null&&$u(r,o.deps)){i.memoizedState=Zi(t,n,s,r);return}}ve.flags|=e,i.memoizedState=Zi(1|t,n,s,r)}function fd(e,t){return Ys(8390656,8,e,t)}function Bu(e,t){return zo(2048,8,e,t)}function fp(e,t){return zo(4,2,e,t)}function hp(e,t){return zo(4,4,e,t)}function pp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mp(e,t,n){return n=n!=null?n.concat([e]):null,zo(4,4,pp.bind(null,t,e),n)}function Fu(){}function gp(e,t){var n=wt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$u(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vp(e,t){var n=wt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$u(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function yp(e,t,n){return Xn&21?(Ot(n,t)||(n=kh(),ve.lanes|=n,Zn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xe=!0),e.memoizedState=n)}function hy(e,t){var n=re;re=n!==0&&4>n?n:4,e(!0);var r=Pa.transition;Pa.transition={};try{e(!1),t()}finally{re=n,Pa.transition=r}}function wp(){return wt().memoizedState}function py(e,t,n){var r=En(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_p(e))Sp(t,n);else if(n=tp(e,t,n,r),n!==null){var i=Ve();Rt(n,e,r,i),Ep(n,t,r)}}function my(e,t,n){var r=En(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_p(e))Sp(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ot(a,o)){var l=t.interleaved;l===null?(i.next=i,Au(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=tp(e,t,i,r),n!==null&&(i=Ve(),Rt(n,e,r,i),Ep(n,t,r))}}function _p(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function Sp(e,t){Oi=So=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ep(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yu(e,n)}}var Eo={readContext:yt,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},gy={readContext:yt,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:fd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ys(4194308,4,pp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ys(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ys(4,2,e,t)},useMemo:function(e,t){var n=Dt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=py.bind(null,ve,e),[r.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:dd,useDebugValue:Fu,useDeferredValue:function(e){return Dt().memoizedState=e},useTransition:function(){var e=dd(!1),t=e[0];return e=hy.bind(null,e[1]),Dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ve,i=Dt();if(me){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),Ae===null)throw Error(I(349));Xn&30||op(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,fd(lp.bind(null,r,s,e),[e]),r.flags|=2048,Zi(9,ap.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Dt(),t=Ae.identifierPrefix;if(me){var n=Kt,r=qt;n=(r&~(1<<32-jt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Yi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=fy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vy={readContext:yt,useCallback:gp,useContext:yt,useEffect:Bu,useImperativeHandle:mp,useInsertionEffect:fp,useLayoutEffect:hp,useMemo:vp,useReducer:ja,useRef:dp,useState:function(){return ja(Xi)},useDebugValue:Fu,useDeferredValue:function(e){var t=wt();return yp(t,je.memoizedState,e)},useTransition:function(){var e=ja(Xi)[0],t=wt().memoizedState;return[e,t]},useMutableSource:ip,useSyncExternalStore:sp,useId:wp,unstable_isNewReconciler:!1},yy={readContext:yt,useCallback:gp,useContext:yt,useEffect:Bu,useImperativeHandle:mp,useInsertionEffect:fp,useLayoutEffect:hp,useMemo:vp,useReducer:Ra,useRef:dp,useState:function(){return Ra(Xi)},useDebugValue:Fu,useDeferredValue:function(e){var t=wt();return je===null?t.memoizedState=e:yp(t,je.memoizedState,e)},useTransition:function(){var e=Ra(Xi)[0],t=wt().memoizedState;return[e,t]},useMutableSource:ip,useSyncExternalStore:sp,useId:wp,unstable_isNewReconciler:!1};function xt(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Pl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wo={isMounted:function(e){return(e=e._reactInternals)?rr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ve(),i=En(e),s=Jt(r,i);s.payload=t,n!=null&&(s.callback=n),t=_n(e,s,i),t!==null&&(Rt(t,e,i,r),Gs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ve(),i=En(e),s=Jt(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=_n(e,s,i),t!==null&&(Rt(t,e,i,r),Gs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ve(),r=En(e),i=Jt(n,r);i.tag=2,t!=null&&(i.callback=t),t=_n(e,i,r),t!==null&&(Rt(t,e,r,n),Gs(t,e,r))}};function hd(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Vi(n,r)||!Vi(i,s):!0}function kp(e,t,n){var r=!1,i=Cn,s=t.contextType;return typeof s=="object"&&s!==null?s=yt(s):(i=et(t)?Qn:Be.current,r=t.contextTypes,s=(r=r!=null)?Wr(e,i):Cn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function pd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wo.enqueueReplaceState(t,t.state,null)}function jl(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Iu(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=yt(s):(s=et(t)?Qn:Be.current,i.context=Wr(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Pl(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Wo.enqueueReplaceState(i,i.state,null),wo(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Kr(e,t){try{var n="",r=t;do n+=qg(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Oa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Rl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var wy=typeof WeakMap=="function"?WeakMap:Map;function xp(e,t,n){n=Jt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){xo||(xo=!0,Bl=r),Rl(e,t)},n}function Cp(e,t,n){n=Jt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Rl(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Rl(e,t),typeof r!="function"&&(Sn===null?Sn=new Set([this]):Sn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function md(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new wy;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Iy.bind(null,e,t,n),t.then(e,e))}function gd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vd(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Jt(-1,1),t.tag=2,_n(n,t,1))),n.lanes|=1),e)}var _y=en.ReactCurrentOwner,Xe=!1;function He(e,t,n,r){t.child=e===null?ep(t,null,n,r):Vr(t,e.child,n,r)}function yd(e,t,n,r,i){n=n.render;var s=t.ref;return Mr(t,i),r=Uu(e,t,n,r,s,i),n=Mu(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zt(e,t,i)):(me&&n&&bu(t),t.flags|=1,He(e,t,r,i),t.child)}function wd(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Gu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,bp(e,t,s,r,i)):(e=to(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Vi,n(o,r)&&e.ref===t.ref)return Zt(e,t,i)}return t.flags|=1,e=kn(s,r),e.ref=t.ref,e.return=t,t.child=e}function bp(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Vi(s,r)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Xe=!0);else return t.lanes=e.lanes,Zt(e,t,i)}return Ol(e,t,n,r,i)}function Tp(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Nr,it),it|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(Nr,it),it|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ue(Nr,it),it|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ue(Nr,it),it|=r;return He(e,t,i,n),t.child}function Pp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ol(e,t,n,r,i){var s=et(n)?Qn:Be.current;return s=Wr(t,s),Mr(t,i),n=Uu(e,t,n,r,s,i),r=Mu(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zt(e,t,i)):(me&&r&&bu(t),t.flags|=1,He(e,t,n,i),t.child)}function _d(e,t,n,r,i){if(et(n)){var s=!0;po(t)}else s=!1;if(Mr(t,i),t.stateNode===null)Xs(e,t),kp(t,n,r),jl(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=yt(u):(u=et(n)?Qn:Be.current,u=Wr(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&pd(t,o,r,u),un=!1;var f=t.memoizedState;o.state=f,wo(t,r,o,i),l=t.memoizedState,a!==r||f!==l||Ze.current||un?(typeof c=="function"&&(Pl(t,n,c,r),l=t.memoizedState),(a=un||hd(t,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,np(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:xt(t.type,a),o.props=u,d=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=yt(l):(l=et(n)?Qn:Be.current,l=Wr(t,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&pd(t,o,r,l),un=!1,f=t.memoizedState,o.state=f,wo(t,r,o,i);var v=t.memoizedState;a!==d||f!==v||Ze.current||un?(typeof m=="function"&&(Pl(t,n,m,r),v=t.memoizedState),(u=un||hd(t,n,u,r,f,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Al(e,t,n,r,s,i)}function Al(e,t,n,r,i,s){Pp(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&sd(t,n,!1),Zt(e,t,s);r=t.stateNode,_y.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Vr(t,e.child,null,s),t.child=Vr(t,null,a,s)):He(e,t,a,s),t.memoizedState=r.state,i&&sd(t,n,!0),t.child}function jp(e){var t=e.stateNode;t.pendingContext?id(e,t.pendingContext,t.pendingContext!==t.context):t.context&&id(e,t.context,!1),Nu(e,t.containerInfo)}function Sd(e,t,n,r,i){return Hr(),Pu(i),t.flags|=256,He(e,t,n,r),t.child}var Il={dehydrated:null,treeContext:null,retryLane:0};function Nl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rp(e,t,n){var r=t.pendingProps,i=ge.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ue(ge,i&1),e===null)return bl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=qo(o,r,0,null),e=Gn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Nl(n),t.memoizedState=Il,e):zu(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Sy(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=kn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=kn(a,s):(s=Gn(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Nl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Il,r}return s=e.child,e=s.sibling,r=kn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function zu(e,t){return t=qo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ds(e,t,n,r){return r!==null&&Pu(r),Vr(t,e.child,null,n),e=zu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sy(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Oa(Error(I(422))),Ds(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=qo({mode:"visible",children:r.children},i,0,null),s=Gn(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Vr(t,e.child,null,o),t.child.memoizedState=Nl(o),t.memoizedState=Il,s);if(!(t.mode&1))return Ds(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(I(419)),r=Oa(s,r,void 0),Ds(e,t,o,r)}if(a=(o&e.childLanes)!==0,Xe||a){if(r=Ae,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Xt(e,i),Rt(r,e,i,-1))}return Ju(),r=Oa(Error(I(421))),Ds(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Ny.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ot=wn(i.nextSibling),at=t,me=!0,Pt=null,e!==null&&(ft[ht++]=qt,ft[ht++]=Kt,ft[ht++]=Yn,qt=e.id,Kt=e.overflow,Yn=t),t=zu(t,r.children),t.flags|=4096,t)}function Ed(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Tl(e.return,t,n)}function Aa(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Op(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(He(e,t,r.children,n),r=ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ed(e,n,t);else if(e.tag===19)Ed(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ue(ge,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&_o(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Aa(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&_o(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Aa(t,!0,n,null,s);break;case"together":Aa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=kn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=kn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ey(e,t,n){switch(t.tag){case 3:jp(t),Hr();break;case 5:rp(t);break;case 1:et(t.type)&&po(t);break;case 4:Nu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ue(vo,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ue(ge,ge.current&1),t.flags|=128,null):n&t.child.childLanes?Rp(e,t,n):(ue(ge,ge.current&1),e=Zt(e,t,n),e!==null?e.sibling:null);ue(ge,ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Op(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ue(ge,ge.current),r)break;return null;case 22:case 23:return t.lanes=0,Tp(e,t,n)}return Zt(e,t,n)}var Ap,Ll,Ip,Np;Ap=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ll=function(){};Ip=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Vn(Bt.current);var s=null;switch(n){case"input":i=rl(e,i),r=rl(e,r),s=[];break;case"select":i=ye({},i,{value:void 0}),r=ye({},r,{value:void 0}),s=[];break;case"textarea":i=ol(e,i),r=ol(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=fo)}ll(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ui.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ui.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&de("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Np=function(e,t,n,r){n!==r&&(t.flags|=4)};function hi(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ky(e,t,n){var r=t.pendingProps;switch(Tu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return et(t.type)&&ho(),Ue(t),null;case 3:return r=t.stateNode,qr(),fe(Ze),fe(Be),Du(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ns(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pt!==null&&(Wl(Pt),Pt=null))),Ll(e,t),Ue(t),null;case 5:Lu(t);var i=Vn(Qi.current);if(n=t.type,e!==null&&t.stateNode!=null)Ip(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return Ue(t),null}if(e=Vn(Bt.current),Ns(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Ut]=t,r[Ji]=s,e=(t.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(i=0;i<ki.length;i++)de(ki[i],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":Oc(r,s),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},de("invalid",r);break;case"textarea":Ic(r,s),de("invalid",r)}ll(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Is(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Is(r.textContent,a,e),i=["children",""+a]):Ui.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&de("scroll",r)}switch(n){case"input":Cs(r),Ac(r,s,!0);break;case"textarea":Cs(r),Nc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=fo)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ut]=t,e[Ji]=r,Ap(e,t,!1,!1),t.stateNode=e;e:{switch(o=ul(n,r),n){case"dialog":de("cancel",e),de("close",e),i=r;break;case"iframe":case"object":case"embed":de("load",e),i=r;break;case"video":case"audio":for(i=0;i<ki.length;i++)de(ki[i],e);i=r;break;case"source":de("error",e),i=r;break;case"img":case"image":case"link":de("error",e),de("load",e),i=r;break;case"details":de("toggle",e),i=r;break;case"input":Oc(e,r),i=rl(e,r),de("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ye({},r,{value:void 0}),de("invalid",e);break;case"textarea":Ic(e,r),i=ol(e,r),de("invalid",e);break;default:i=r}ll(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?dh(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&uh(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Mi(e,l):typeof l=="number"&&Mi(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ui.hasOwnProperty(s)?l!=null&&s==="onScroll"&&de("scroll",e):l!=null&&fu(e,s,l,o))}switch(n){case"input":Cs(e),Ac(e,r,!1);break;case"textarea":Cs(e),Nc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+xn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Lr(e,!!r.multiple,s,!1):r.defaultValue!=null&&Lr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=fo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ue(t),null;case 6:if(e&&t.stateNode!=null)Np(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=Vn(Qi.current),Vn(Bt.current),Ns(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ut]=t,(s=r.nodeValue!==n)&&(e=at,e!==null))switch(e.tag){case 3:Is(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Is(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ut]=t,t.stateNode=r}return Ue(t),null;case 13:if(fe(ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&ot!==null&&t.mode&1&&!(t.flags&128))Xh(),Hr(),t.flags|=98560,s=!1;else if(s=Ns(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(I(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(I(317));s[Ut]=t}else Hr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ue(t),s=!1}else Pt!==null&&(Wl(Pt),Pt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?Re===0&&(Re=3):Ju())),t.updateQueue!==null&&(t.flags|=4),Ue(t),null);case 4:return qr(),Ll(e,t),e===null&&qi(t.stateNode.containerInfo),Ue(t),null;case 10:return Ou(t.type._context),Ue(t),null;case 17:return et(t.type)&&ho(),Ue(t),null;case 19:if(fe(ge),s=t.memoizedState,s===null)return Ue(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)hi(s,!1);else{if(Re!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=_o(e),o!==null){for(t.flags|=128,hi(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ue(ge,ge.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ee()>Jr&&(t.flags|=128,r=!0,hi(s,!1),t.lanes=4194304)}else{if(!r)if(e=_o(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!me)return Ue(t),null}else 2*Ee()-s.renderingStartTime>Jr&&n!==1073741824&&(t.flags|=128,r=!0,hi(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ee(),t.sibling=null,n=ge.current,ue(ge,r?n&1|2:n&1),t):(Ue(t),null);case 22:case 23:return Ku(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?it&1073741824&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function xy(e,t){switch(Tu(t),t.tag){case 1:return et(t.type)&&ho(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qr(),fe(Ze),fe(Be),Du(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Lu(t),null;case 13:if(fe(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));Hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(ge),null;case 4:return qr(),null;case 10:return Ou(t.type._context),null;case 22:case 23:return Ku(),null;case 24:return null;default:return null}}var $s=!1,Me=!1,Cy=typeof WeakSet=="function"?WeakSet:Set,D=null;function Ir(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(e,t,r)}else n.current=null}function Dl(e,t,n){try{n()}catch(r){Se(e,t,r)}}var kd=!1;function by(e,t){if(wl=lo,e=Mh(),Cu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===e)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_l={focusedElem:e,selectionRange:n},lo=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,x=v.memoizedState,g=t.stateNode,h=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:xt(t.type,w),x);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(E){Se(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return v=kd,kd=!1,v}function Ai(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Dl(t,n,s)}i=i.next}while(i!==r)}}function Ho(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function $l(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Lp(e){var t=e.alternate;t!==null&&(e.alternate=null,Lp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ut],delete t[Ji],delete t[kl],delete t[ly],delete t[uy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Dp(e){return e.tag===5||e.tag===3||e.tag===4}function xd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ul(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fo));else if(r!==4&&(e=e.child,e!==null))for(Ul(e,t,n),e=e.sibling;e!==null;)Ul(e,t,n),e=e.sibling}function Ml(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ml(e,t,n),e=e.sibling;e!==null;)Ml(e,t,n),e=e.sibling}var Ne=null,Ct=!1;function rn(e,t,n){for(n=n.child;n!==null;)$p(e,t,n),n=n.sibling}function $p(e,t,n){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Do,n)}catch{}switch(n.tag){case 5:Me||Ir(n,t);case 6:var r=Ne,i=Ct;Ne=null,rn(e,t,n),Ne=r,Ct=i,Ne!==null&&(Ct?(e=Ne,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ne.removeChild(n.stateNode));break;case 18:Ne!==null&&(Ct?(e=Ne,n=n.stateNode,e.nodeType===8?Ca(e.parentNode,n):e.nodeType===1&&Ca(e,n),Wi(e)):Ca(Ne,n.stateNode));break;case 4:r=Ne,i=Ct,Ne=n.stateNode.containerInfo,Ct=!0,rn(e,t,n),Ne=r,Ct=i;break;case 0:case 11:case 14:case 15:if(!Me&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Dl(n,t,o),i=i.next}while(i!==r)}rn(e,t,n);break;case 1:if(!Me&&(Ir(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Se(n,t,a)}rn(e,t,n);break;case 21:rn(e,t,n);break;case 22:n.mode&1?(Me=(r=Me)||n.memoizedState!==null,rn(e,t,n),Me=r):rn(e,t,n);break;default:rn(e,t,n)}}function Cd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Cy),t.forEach(function(r){var i=Ly.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Et(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ne=a.stateNode,Ct=!1;break e;case 3:Ne=a.stateNode.containerInfo,Ct=!0;break e;case 4:Ne=a.stateNode.containerInfo,Ct=!0;break e}a=a.return}if(Ne===null)throw Error(I(160));$p(s,o,i),Ne=null,Ct=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Se(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Up(t,e),t=t.sibling}function Up(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Et(t,e),Nt(e),r&4){try{Ai(3,e,e.return),Ho(3,e)}catch(w){Se(e,e.return,w)}try{Ai(5,e,e.return)}catch(w){Se(e,e.return,w)}}break;case 1:Et(t,e),Nt(e),r&512&&n!==null&&Ir(n,n.return);break;case 5:if(Et(t,e),Nt(e),r&512&&n!==null&&Ir(n,n.return),e.flags&32){var i=e.stateNode;try{Mi(i,"")}catch(w){Se(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&oh(i,s),ul(a,o);var u=ul(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?dh(i,d):c==="dangerouslySetInnerHTML"?uh(i,d):c==="children"?Mi(i,d):fu(i,c,d,u)}switch(a){case"input":il(i,s);break;case"textarea":ah(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Lr(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Lr(i,!!s.multiple,s.defaultValue,!0):Lr(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ji]=s}catch(w){Se(e,e.return,w)}}break;case 6:if(Et(t,e),Nt(e),r&4){if(e.stateNode===null)throw Error(I(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(w){Se(e,e.return,w)}}break;case 3:if(Et(t,e),Nt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wi(t.containerInfo)}catch(w){Se(e,e.return,w)}break;case 4:Et(t,e),Nt(e);break;case 13:Et(t,e),Nt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Vu=Ee())),r&4&&Cd(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Me=(u=Me)||c,Et(t,e),Me=u):Et(t,e),Nt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(D=e,c=e.child;c!==null;){for(d=D=c;D!==null;){switch(f=D,m=f.child,f.tag){case 0:case 11:case 14:case 15:Ai(4,f,f.return);break;case 1:Ir(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){Se(r,n,w)}}break;case 5:Ir(f,f.return);break;case 22:if(f.memoizedState!==null){Td(d);continue}}m!==null?(m.return=f,D=m):Td(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ch("display",o))}catch(w){Se(e,e.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){Se(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Et(t,e),Nt(e),r&4&&Cd(e);break;case 21:break;default:Et(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Dp(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Mi(i,""),r.flags&=-33);var s=xd(e);Ml(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=xd(e);Ul(e,a,o);break;default:throw Error(I(161))}}catch(l){Se(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ty(e,t,n){D=e,Mp(e)}function Mp(e,t,n){for(var r=(e.mode&1)!==0;D!==null;){var i=D,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||$s;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Me;a=$s;var u=Me;if($s=o,(Me=l)&&!u)for(D=i;D!==null;)o=D,l=o.child,o.tag===22&&o.memoizedState!==null?Pd(i):l!==null?(l.return=o,D=l):Pd(i);for(;s!==null;)D=s,Mp(s),s=s.sibling;D=i,$s=a,Me=u}bd(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,D=s):bd(e)}}function bd(e){for(;D!==null;){var t=D;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Me||Ho(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Me)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:xt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&cd(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}cd(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Wi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Me||t.flags&512&&$l(t)}catch(f){Se(t,t.return,f)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function Td(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function Pd(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ho(4,t)}catch(l){Se(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Se(t,i,l)}}var s=t.return;try{$l(t)}catch(l){Se(t,s,l)}break;case 5:var o=t.return;try{$l(t)}catch(l){Se(t,o,l)}}}catch(l){Se(t,t.return,l)}if(t===e){D=null;break}var a=t.sibling;if(a!==null){a.return=t.return,D=a;break}D=t.return}}var Py=Math.ceil,ko=en.ReactCurrentDispatcher,Wu=en.ReactCurrentOwner,gt=en.ReactCurrentBatchConfig,Z=0,Ae=null,Te=null,Le=0,it=0,Nr=Tn(0),Re=0,es=null,Zn=0,Vo=0,Hu=0,Ii=null,Qe=null,Vu=0,Jr=1/0,Wt=null,xo=!1,Bl=null,Sn=null,Us=!1,pn=null,Co=0,Ni=0,Fl=null,Zs=-1,eo=0;function Ve(){return Z&6?Ee():Zs!==-1?Zs:Zs=Ee()}function En(e){return e.mode&1?Z&2&&Le!==0?Le&-Le:dy.transition!==null?(eo===0&&(eo=kh()),eo):(e=re,e!==0||(e=window.event,e=e===void 0?16:Rh(e.type)),e):1}function Rt(e,t,n,r){if(50<Ni)throw Ni=0,Fl=null,Error(I(185));ls(e,n,r),(!(Z&2)||e!==Ae)&&(e===Ae&&(!(Z&2)&&(Vo|=n),Re===4&&dn(e,Le)),tt(e,r),n===1&&Z===0&&!(t.mode&1)&&(Jr=Ee()+500,Fo&&Pn()))}function tt(e,t){var n=e.callbackNode;dv(e,t);var r=ao(e,e===Ae?Le:0);if(r===0)n!==null&&$c(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&$c(n),t===1)e.tag===0?cy(jd.bind(null,e)):Gh(jd.bind(null,e)),oy(function(){!(Z&6)&&Pn()}),n=null;else{switch(xh(r)){case 1:n=vu;break;case 4:n=Sh;break;case 16:n=oo;break;case 536870912:n=Eh;break;default:n=oo}n=Kp(n,Bp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Bp(e,t){if(Zs=-1,eo=0,Z&6)throw Error(I(327));var n=e.callbackNode;if(Br()&&e.callbackNode!==n)return null;var r=ao(e,e===Ae?Le:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=bo(e,r);else{t=r;var i=Z;Z|=2;var s=zp();(Ae!==e||Le!==t)&&(Wt=null,Jr=Ee()+500,Jn(e,t));do try{Oy();break}catch(a){Fp(e,a)}while(!0);Ru(),ko.current=s,Z=i,Te!==null?t=0:(Ae=null,Le=0,t=Re)}if(t!==0){if(t===2&&(i=pl(e),i!==0&&(r=i,t=zl(e,i))),t===1)throw n=es,Jn(e,0),dn(e,r),tt(e,Ee()),n;if(t===6)dn(e,r);else{if(i=e.current.alternate,!(r&30)&&!jy(i)&&(t=bo(e,r),t===2&&(s=pl(e),s!==0&&(r=s,t=zl(e,s))),t===1))throw n=es,Jn(e,0),dn(e,r),tt(e,Ee()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:$n(e,Qe,Wt);break;case 3:if(dn(e,r),(r&130023424)===r&&(t=Vu+500-Ee(),10<t)){if(ao(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ve(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=El($n.bind(null,e,Qe,Wt),t);break}$n(e,Qe,Wt);break;case 4:if(dn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-jt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Py(r/1960))-r,10<r){e.timeoutHandle=El($n.bind(null,e,Qe,Wt),r);break}$n(e,Qe,Wt);break;case 5:$n(e,Qe,Wt);break;default:throw Error(I(329))}}}return tt(e,Ee()),e.callbackNode===n?Bp.bind(null,e):null}function zl(e,t){var n=Ii;return e.current.memoizedState.isDehydrated&&(Jn(e,t).flags|=256),e=bo(e,t),e!==2&&(t=Qe,Qe=n,t!==null&&Wl(t)),e}function Wl(e){Qe===null?Qe=e:Qe.push.apply(Qe,e)}function jy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ot(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dn(e,t){for(t&=~Hu,t&=~Vo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jt(t),r=1<<n;e[n]=-1,t&=~r}}function jd(e){if(Z&6)throw Error(I(327));Br();var t=ao(e,0);if(!(t&1))return tt(e,Ee()),null;var n=bo(e,t);if(e.tag!==0&&n===2){var r=pl(e);r!==0&&(t=r,n=zl(e,r))}if(n===1)throw n=es,Jn(e,0),dn(e,t),tt(e,Ee()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$n(e,Qe,Wt),tt(e,Ee()),null}function qu(e,t){var n=Z;Z|=1;try{return e(t)}finally{Z=n,Z===0&&(Jr=Ee()+500,Fo&&Pn())}}function er(e){pn!==null&&pn.tag===0&&!(Z&6)&&Br();var t=Z;Z|=1;var n=gt.transition,r=re;try{if(gt.transition=null,re=1,e)return e()}finally{re=r,gt.transition=n,Z=t,!(Z&6)&&Pn()}}function Ku(){it=Nr.current,fe(Nr)}function Jn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sy(n)),Te!==null)for(n=Te.return;n!==null;){var r=n;switch(Tu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ho();break;case 3:qr(),fe(Ze),fe(Be),Du();break;case 5:Lu(r);break;case 4:qr();break;case 13:fe(ge);break;case 19:fe(ge);break;case 10:Ou(r.type._context);break;case 22:case 23:Ku()}n=n.return}if(Ae=e,Te=e=kn(e.current,null),Le=it=t,Re=0,es=null,Hu=Vo=Zn=0,Qe=Ii=null,Hn!==null){for(t=0;t<Hn.length;t++)if(n=Hn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Hn=null}return e}function Fp(e,t){do{var n=Te;try{if(Ru(),Qs.current=Eo,So){for(var r=ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}So=!1}if(Xn=0,Oe=je=ve=null,Oi=!1,Yi=0,Wu.current=null,n===null||n.return===null){Re=1,es=t,Te=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Le,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=gd(o);if(m!==null){m.flags&=-257,vd(m,o,a,s,t),m.mode&1&&md(s,u,t),t=m,l=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(l),t.updateQueue=w}else v.add(l);break e}else{if(!(t&1)){md(s,u,t),Ju();break e}l=Error(I(426))}}else if(me&&a.mode&1){var x=gd(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),vd(x,o,a,s,t),Pu(Kr(l,a));break e}}s=l=Kr(l,a),Re!==4&&(Re=2),Ii===null?Ii=[s]:Ii.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=xp(s,l,t);ud(s,g);break e;case 1:a=l;var h=s.type,p=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Sn===null||!Sn.has(p)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=Cp(s,a,t);ud(s,E);break e}}s=s.return}while(s!==null)}Hp(n)}catch(j){t=j,Te===n&&n!==null&&(Te=n=n.return);continue}break}while(!0)}function zp(){var e=ko.current;return ko.current=Eo,e===null?Eo:e}function Ju(){(Re===0||Re===3||Re===2)&&(Re=4),Ae===null||!(Zn&268435455)&&!(Vo&268435455)||dn(Ae,Le)}function bo(e,t){var n=Z;Z|=2;var r=zp();(Ae!==e||Le!==t)&&(Wt=null,Jn(e,t));do try{Ry();break}catch(i){Fp(e,i)}while(!0);if(Ru(),Z=n,ko.current=r,Te!==null)throw Error(I(261));return Ae=null,Le=0,Re}function Ry(){for(;Te!==null;)Wp(Te)}function Oy(){for(;Te!==null&&!nv();)Wp(Te)}function Wp(e){var t=qp(e.alternate,e,it);e.memoizedProps=e.pendingProps,t===null?Hp(e):Te=t,Wu.current=null}function Hp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=xy(n,t),n!==null){n.flags&=32767,Te=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Re=6,Te=null;return}}else if(n=ky(n,t,it),n!==null){Te=n;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);Re===0&&(Re=5)}function $n(e,t,n){var r=re,i=gt.transition;try{gt.transition=null,re=1,Ay(e,t,n,r)}finally{gt.transition=i,re=r}return null}function Ay(e,t,n,r){do Br();while(pn!==null);if(Z&6)throw Error(I(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(fv(e,s),e===Ae&&(Te=Ae=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Us||(Us=!0,Kp(oo,function(){return Br(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=gt.transition,gt.transition=null;var o=re;re=1;var a=Z;Z|=4,Wu.current=null,by(e,n),Up(n,e),Xv(_l),lo=!!wl,_l=wl=null,e.current=n,Ty(n),rv(),Z=a,re=o,gt.transition=s}else e.current=n;if(Us&&(Us=!1,pn=e,Co=i),s=e.pendingLanes,s===0&&(Sn=null),ov(n.stateNode),tt(e,Ee()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(xo)throw xo=!1,e=Bl,Bl=null,e;return Co&1&&e.tag!==0&&Br(),s=e.pendingLanes,s&1?e===Fl?Ni++:(Ni=0,Fl=e):Ni=0,Pn(),null}function Br(){if(pn!==null){var e=xh(Co),t=gt.transition,n=re;try{if(gt.transition=null,re=16>e?16:e,pn===null)var r=!1;else{if(e=pn,pn=null,Co=0,Z&6)throw Error(I(331));var i=Z;for(Z|=4,D=e.current;D!==null;){var s=D,o=s.child;if(D.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(D=u;D!==null;){var c=D;switch(c.tag){case 0:case 11:case 15:Ai(8,c,s)}var d=c.child;if(d!==null)d.return=c,D=d;else for(;D!==null;){c=D;var f=c.sibling,m=c.return;if(Lp(c),c===u){D=null;break}if(f!==null){f.return=m,D=f;break}D=m}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}D=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,D=o;else e:for(;D!==null;){if(s=D,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ai(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,D=g;break e}D=s.return}}var h=e.current;for(D=h;D!==null;){o=D;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,D=p;else e:for(o=h;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ho(9,a)}}catch(j){Se(a,a.return,j)}if(a===o){D=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,D=E;break e}D=a.return}}if(Z=i,Pn(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Do,e)}catch{}r=!0}return r}finally{re=n,gt.transition=t}}return!1}function Rd(e,t,n){t=Kr(n,t),t=xp(e,t,1),e=_n(e,t,1),t=Ve(),e!==null&&(ls(e,1,t),tt(e,t))}function Se(e,t,n){if(e.tag===3)Rd(e,e,n);else for(;t!==null;){if(t.tag===3){Rd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sn===null||!Sn.has(r))){e=Kr(n,e),e=Cp(t,e,1),t=_n(t,e,1),e=Ve(),t!==null&&(ls(t,1,e),tt(t,e));break}}t=t.return}}function Iy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&n,Ae===e&&(Le&n)===n&&(Re===4||Re===3&&(Le&130023424)===Le&&500>Ee()-Vu?Jn(e,0):Hu|=n),tt(e,t)}function Vp(e,t){t===0&&(e.mode&1?(t=Ps,Ps<<=1,!(Ps&130023424)&&(Ps=4194304)):t=1);var n=Ve();e=Xt(e,t),e!==null&&(ls(e,t,n),tt(e,n))}function Ny(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Vp(e,n)}function Ly(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),Vp(e,n)}var qp;qp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ze.current)Xe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xe=!1,Ey(e,t,n);Xe=!!(e.flags&131072)}else Xe=!1,me&&t.flags&1048576&&Qh(t,go,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xs(e,t),e=t.pendingProps;var i=Wr(t,Be.current);Mr(t,n),i=Uu(null,t,r,e,i,n);var s=Mu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,et(r)?(s=!0,po(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Iu(t),i.updater=Wo,t.stateNode=i,i._reactInternals=t,jl(t,r,e,n),t=Al(null,t,r,!0,s,n)):(t.tag=0,me&&s&&bu(t),He(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xs(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=$y(r),e=xt(r,e),i){case 0:t=Ol(null,t,r,e,n);break e;case 1:t=_d(null,t,r,e,n);break e;case 11:t=yd(null,t,r,e,n);break e;case 14:t=wd(null,t,r,xt(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xt(r,i),Ol(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xt(r,i),_d(e,t,r,i,n);case 3:e:{if(jp(t),e===null)throw Error(I(387));r=t.pendingProps,s=t.memoizedState,i=s.element,np(e,t),wo(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Kr(Error(I(423)),t),t=Sd(e,t,r,n,i);break e}else if(r!==i){i=Kr(Error(I(424)),t),t=Sd(e,t,r,n,i);break e}else for(ot=wn(t.stateNode.containerInfo.firstChild),at=t,me=!0,Pt=null,n=ep(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hr(),r===i){t=Zt(e,t,n);break e}He(e,t,r,n)}t=t.child}return t;case 5:return rp(t),e===null&&bl(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Sl(r,i)?o=null:s!==null&&Sl(r,s)&&(t.flags|=32),Pp(e,t),He(e,t,o,n),t.child;case 6:return e===null&&bl(t),null;case 13:return Rp(e,t,n);case 4:return Nu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Vr(t,null,r,n):He(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xt(r,i),yd(e,t,r,i,n);case 7:return He(e,t,t.pendingProps,n),t.child;case 8:return He(e,t,t.pendingProps.children,n),t.child;case 12:return He(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,ue(vo,r._currentValue),r._currentValue=o,s!==null)if(Ot(s.value,o)){if(s.children===i.children&&!Ze.current){t=Zt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Jt(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Tl(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(I(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Tl(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}He(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Mr(t,n),i=yt(i),r=r(i),t.flags|=1,He(e,t,r,n),t.child;case 14:return r=t.type,i=xt(r,t.pendingProps),i=xt(r.type,i),wd(e,t,r,i,n);case 15:return bp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xt(r,i),Xs(e,t),t.tag=1,et(r)?(e=!0,po(t)):e=!1,Mr(t,n),kp(t,r,i),jl(t,r,i,n),Al(null,t,r,!0,e,n);case 19:return Op(e,t,n);case 22:return Tp(e,t,n)}throw Error(I(156,t.tag))};function Kp(e,t){return _h(e,t)}function Dy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,n,r){return new Dy(e,t,n,r)}function Gu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $y(e){if(typeof e=="function")return Gu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pu)return 11;if(e===mu)return 14}return 2}function kn(e,t){var n=e.alternate;return n===null?(n=mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function to(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Gu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case xr:return Gn(n.children,i,s,t);case hu:o=8,i|=8;break;case Za:return e=mt(12,n,t,i|2),e.elementType=Za,e.lanes=s,e;case el:return e=mt(13,n,t,i),e.elementType=el,e.lanes=s,e;case tl:return e=mt(19,n,t,i),e.elementType=tl,e.lanes=s,e;case rh:return qo(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case th:o=10;break e;case nh:o=9;break e;case pu:o=11;break e;case mu:o=14;break e;case ln:o=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=mt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Gn(e,t,n,r){return e=mt(7,e,r,t),e.lanes=n,e}function qo(e,t,n,r){return e=mt(22,e,r,t),e.elementType=rh,e.lanes=n,e.stateNode={isHidden:!1},e}function Ia(e,t,n){return e=mt(6,e,null,t),e.lanes=n,e}function Na(e,t,n){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uy(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pa(0),this.expirationTimes=pa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pa(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qu(e,t,n,r,i,s,o,a,l){return e=new Uy(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=mt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Iu(s),e}function My(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Jp(e){if(!e)return Cn;e=e._reactInternals;e:{if(rr(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(et(n))return Jh(e,n,t)}return t}function Gp(e,t,n,r,i,s,o,a,l){return e=Qu(n,r,!0,e,i,s,o,a,l),e.context=Jp(null),n=e.current,r=Ve(),i=En(n),s=Jt(r,i),s.callback=t??null,_n(n,s,i),e.current.lanes=i,ls(e,i,r),tt(e,r),e}function Ko(e,t,n,r){var i=t.current,s=Ve(),o=En(i);return n=Jp(n),t.context===null?t.context=n:t.pendingContext=n,t=Jt(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_n(i,t,o),e!==null&&(Rt(e,i,o,s),Gs(e,i,o)),o}function To(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Od(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yu(e,t){Od(e,t),(e=e.alternate)&&Od(e,t)}function By(){return null}var Qp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xu(e){this._internalRoot=e}Jo.prototype.render=Xu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Ko(e,t,null,null)};Jo.prototype.unmount=Xu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;er(function(){Ko(null,e,null,null)}),t[Yt]=null}};function Jo(e){this._internalRoot=e}Jo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Th();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cn.length&&t!==0&&t<cn[n].priority;n++);cn.splice(n,0,e),n===0&&jh(e)}};function Zu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Go(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ad(){}function Fy(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=To(o);s.call(u)}}var o=Gp(t,r,e,0,null,!1,!1,"",Ad);return e._reactRootContainer=o,e[Yt]=o.current,qi(e.nodeType===8?e.parentNode:e),er(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=To(l);a.call(u)}}var l=Qu(e,0,!1,null,null,!1,!1,"",Ad);return e._reactRootContainer=l,e[Yt]=l.current,qi(e.nodeType===8?e.parentNode:e),er(function(){Ko(t,l,n,r)}),l}function Qo(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=To(o);a.call(l)}}Ko(t,o,e,i)}else o=Fy(n,t,e,i,r);return To(o)}Ch=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ei(t.pendingLanes);n!==0&&(yu(t,n|1),tt(t,Ee()),!(Z&6)&&(Jr=Ee()+500,Pn()))}break;case 13:er(function(){var r=Xt(e,1);if(r!==null){var i=Ve();Rt(r,e,1,i)}}),Yu(e,1)}};wu=function(e){if(e.tag===13){var t=Xt(e,134217728);if(t!==null){var n=Ve();Rt(t,e,134217728,n)}Yu(e,134217728)}};bh=function(e){if(e.tag===13){var t=En(e),n=Xt(e,t);if(n!==null){var r=Ve();Rt(n,e,t,r)}Yu(e,t)}};Th=function(){return re};Ph=function(e,t){var n=re;try{return re=e,t()}finally{re=n}};dl=function(e,t,n){switch(t){case"input":if(il(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Bo(r);if(!i)throw Error(I(90));sh(r),il(r,i)}}}break;case"textarea":ah(e,n);break;case"select":t=n.value,t!=null&&Lr(e,!!n.multiple,t,!1)}};ph=qu;mh=er;var zy={usingClientEntryPoint:!1,Events:[cs,Pr,Bo,fh,hh,qu]},pi={findFiberByHostInstance:Wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wy={bundleType:pi.bundleType,version:pi.version,rendererPackageName:pi.rendererPackageName,rendererConfig:pi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:en.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yh(e),e===null?null:e.stateNode},findFiberByHostInstance:pi.findFiberByHostInstance||By,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ms.isDisabled&&Ms.supportsFiber)try{Do=Ms.inject(Wy),Mt=Ms}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zy;ut.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zu(t))throw Error(I(200));return My(e,t,null,n)};ut.createRoot=function(e,t){if(!Zu(e))throw Error(I(299));var n=!1,r="",i=Qp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Qu(e,1,!1,null,null,n,!1,r,i),e[Yt]=t.current,qi(e.nodeType===8?e.parentNode:e),new Xu(t)};ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=yh(t),e=e===null?null:e.stateNode,e};ut.flushSync=function(e){return er(e)};ut.hydrate=function(e,t,n){if(!Go(t))throw Error(I(200));return Qo(null,e,t,!0,n)};ut.hydrateRoot=function(e,t,n){if(!Zu(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Qp;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Gp(t,null,e,1,n??null,i,!1,s,o),e[Yt]=t.current,qi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jo(t)};ut.render=function(e,t,n){if(!Go(t))throw Error(I(200));return Qo(null,e,t,!1,n)};ut.unmountComponentAtNode=function(e){if(!Go(e))throw Error(I(40));return e._reactRootContainer?(er(function(){Qo(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1};ut.unstable_batchedUpdates=qu;ut.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Go(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Qo(e,t,n,!1,r)};ut.version="18.3.1-next-f1338f8080-20240426";function Yp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yp)}catch(e){console.error(e)}}Yp(),Yf.exports=ut;var ec=Yf.exports;const Hy=Mf(ec),Vy=Uf({__proto__:null,default:Hy},[ec]);var Xp,Id=ec;Xp=Id.createRoot,Id.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pe.apply(this,arguments)}var xe;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xe||(xe={}));const Nd="popstate";function qy(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return ts("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:tr(i)}return Jy(t,n,null,e)}function Y(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Gr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ky(){return Math.random().toString(36).substr(2,8)}function Ld(e,t){return{usr:e.state,key:e.key,idx:t}}function ts(e,t,n,r){return n===void 0&&(n=null),pe({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?jn(t):t,{state:n,key:t&&t.key||r||Ky()})}function tr(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function jn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Jy(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=xe.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(pe({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=xe.Pop;let x=c(),g=x==null?null:x-u;u=x,l&&l({action:a,location:w.location,delta:g})}function f(x,g){a=xe.Push;let h=ts(w.location,x,g);u=c()+1;let p=Ld(h,u),E=w.createHref(h);try{o.pushState(p,"",E)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(E)}s&&l&&l({action:a,location:w.location,delta:1})}function m(x,g){a=xe.Replace;let h=ts(w.location,x,g);u=c();let p=Ld(h,u),E=w.createHref(h);o.replaceState(p,"",E),s&&l&&l({action:a,location:w.location,delta:0})}function v(x){let g=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof x=="string"?x:tr(x);return h=h.replace(/ $/,"%20"),Y(g,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,g)}let w={get action(){return a},get location(){return e(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Nd,d),l=x,()=>{i.removeEventListener(Nd,d),l=null}},createHref(x){return t(i,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(x){return o.go(x)}};return w}var ne;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ne||(ne={}));const Gy=new Set(["lazy","caseSensitive","path","id","index","children"]);function Qy(e){return e.index===!0}function Po(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(Y(i.index!==!0||!i.children,"Cannot specify children on an index route"),Y(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Qy(i)){let l=pe({},i,t(i),{id:a});return r[a]=l,l}else{let l=pe({},i,t(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Po(i.children,t,o,r)),l}})}function Mn(e,t,n){return n===void 0&&(n="/"),no(e,t,n,!1)}function no(e,t,n,r){let i=typeof t=="string"?jn(t):t,s=ei(i.pathname||"/",n);if(s==null)return null;let o=Zp(e);Xy(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=u0(s);a=a0(o[l],u,r)}return a}function Yy(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function Zp(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Y(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Gt([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Y(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Zp(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:s0(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of em(s.path))i(s,o,l)}),t}function em(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=em(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Xy(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:o0(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Zy=/^:[\w-]+$/,e0=3,t0=2,n0=1,r0=10,i0=-2,Dd=e=>e==="*";function s0(e,t){let n=e.split("/"),r=n.length;return n.some(Dd)&&(r+=i0),t&&(r+=t0),n.filter(i=>!Dd(i)).reduce((i,s)=>i+(Zy.test(s)?e0:s===""?n0:r0),r)}function o0(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function a0(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?t:t.slice(s.length)||"/",d=$d({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=$d({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Gt([s,d.pathname]),pathnameBase:f0(Gt([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Gt([s,d.pathnameBase]))}return o}function $d(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=l0(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:m}=c;if(f==="*"){let w=a[d]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const v=a[d];return m&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function l0(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Gr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function u0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gr(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ei(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function c0(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?jn(e):e;return{pathname:n?n.startsWith("/")?n:d0(n,t):t,search:h0(r),hash:p0(i)}}function d0(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function La(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tm(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function tc(e,t){let n=tm(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function nc(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=jn(e):(i=pe({},e),Y(!i.pathname||!i.pathname.includes("?"),La("?","pathname","search",i)),Y(!i.pathname||!i.pathname.includes("#"),La("#","pathname","hash",i)),Y(!i.search||!i.search.includes("#"),La("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=c0(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Gt=e=>e.join("/").replace(/\/\/+/g,"/"),f0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),h0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,p0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class jo{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ns(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const nm=["post","put","patch","delete"],m0=new Set(nm),g0=["get",...nm],v0=new Set(g0),y0=new Set([301,302,303,307,308]),w0=new Set([307,308]),Da={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},_0={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},mi={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},rc=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,S0=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),rm="remix-router-transitions";function E0(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;Y(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let _=e.detectErrorBoundary;i=k=>({hasErrorBoundary:_(k)})}else i=S0;let s={},o=Po(e.routes,i,void 0,s),a,l=e.basename||"/",u=e.dataStrategy||b0,c=e.patchRoutesOnNavigation,d=pe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),f=null,m=new Set,v=null,w=null,x=null,g=e.hydrationData!=null,h=Mn(o,e.history.location,l),p=!1,E=null;if(h==null&&!c){let _=Ge(404,{pathname:e.history.location.pathname}),{matches:k,route:T}=Jd(o);h=k,E={[T.id]:_}}h&&!e.hydrationData&&ws(h,o,e.history.location.pathname).active&&(h=null);let j;if(h)if(h.some(_=>_.route.lazy))j=!1;else if(!h.some(_=>_.route.loader))j=!0;else if(d.v7_partialHydration){let _=e.hydrationData?e.hydrationData.loaderData:null,k=e.hydrationData?e.hydrationData.errors:null;if(k){let T=h.findIndex(A=>k[A.route.id]!==void 0);j=h.slice(0,T+1).every(A=>!Vl(A.route,_,k))}else j=h.every(T=>!Vl(T.route,_,k))}else j=e.hydrationData!=null;else if(j=!1,h=[],d.v7_partialHydration){let _=ws(null,o,e.history.location.pathname);_.active&&_.matches&&(p=!0,h=_.matches)}let R,y={historyAction:e.history.action,location:e.history.location,matches:h,initialized:j,navigation:Da,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||E,fetchers:new Map,blockers:new Map},S=xe.Pop,P=!1,O,F=!1,K=new Map,ce=null,ie=!1,he=!1,_t=[],At=new Set,N=new Map,H=0,V=-1,se=new Map,oe=new Set,St=new Map,nt=new Map,Fe=new Set,ze=new Map,dt=new Map,gs;function eg(){if(f=e.history.listen(_=>{let{action:k,location:T,delta:A}=_;if(gs){gs(),gs=void 0;return}Gr(dt.size===0||A!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let L=Sc({currentLocation:y.location,nextLocation:T,historyAction:k});if(L&&A!=null){let z=new Promise(q=>{gs=q});e.history.go(A*-1),ys(L,{state:"blocked",location:T,proceed(){ys(L,{state:"proceeding",proceed:void 0,reset:void 0,location:T}),z.then(()=>e.history.go(A))},reset(){let q=new Map(y.blockers);q.set(L,mi),We({blockers:q})}});return}return On(k,T)}),n){B0(t,K);let _=()=>F0(t,K);t.addEventListener("pagehide",_),ce=()=>t.removeEventListener("pagehide",_)}return y.initialized||On(xe.Pop,y.location,{initialHydration:!0}),R}function tg(){f&&f(),ce&&ce(),m.clear(),O&&O.abort(),y.fetchers.forEach((_,k)=>vs(k)),y.blockers.forEach((_,k)=>_c(k))}function ng(_){return m.add(_),()=>m.delete(_)}function We(_,k){k===void 0&&(k={}),y=pe({},y,_);let T=[],A=[];d.v7_fetcherPersist&&y.fetchers.forEach((L,z)=>{L.state==="idle"&&(Fe.has(z)?A.push(z):T.push(z))}),Fe.forEach(L=>{!y.fetchers.has(L)&&!N.has(L)&&A.push(L)}),[...m].forEach(L=>L(y,{deletedFetchers:A,viewTransitionOpts:k.viewTransitionOpts,flushSync:k.flushSync===!0})),d.v7_fetcherPersist?(T.forEach(L=>y.fetchers.delete(L)),A.forEach(L=>vs(L))):A.forEach(L=>Fe.delete(L))}function lr(_,k,T){var A,L;let{flushSync:z}=T===void 0?{}:T,q=y.actionData!=null&&y.navigation.formMethod!=null&&bt(y.navigation.formMethod)&&y.navigation.state==="loading"&&((A=_.state)==null?void 0:A._isRedirect)!==!0,U;k.actionData?Object.keys(k.actionData).length>0?U=k.actionData:U=null:q?U=y.actionData:U=null;let M=k.loaderData?qd(y.loaderData,k.loaderData,k.matches||[],k.errors):y.loaderData,$=y.blockers;$.size>0&&($=new Map($),$.forEach((X,Ie)=>$.set(Ie,mi)));let B=P===!0||y.navigation.formMethod!=null&&bt(y.navigation.formMethod)&&((L=_.state)==null?void 0:L._isRedirect)!==!0;a&&(o=a,a=void 0),ie||S===xe.Pop||(S===xe.Push?e.history.push(_,_.state):S===xe.Replace&&e.history.replace(_,_.state));let G;if(S===xe.Pop){let X=K.get(y.location.pathname);X&&X.has(_.pathname)?G={currentLocation:y.location,nextLocation:_}:K.has(_.pathname)&&(G={currentLocation:_,nextLocation:y.location})}else if(F){let X=K.get(y.location.pathname);X?X.add(_.pathname):(X=new Set([_.pathname]),K.set(y.location.pathname,X)),G={currentLocation:y.location,nextLocation:_}}We(pe({},k,{actionData:U,loaderData:M,historyAction:S,location:_,initialized:!0,navigation:Da,revalidation:"idle",restoreScrollPosition:kc(_,k.matches||y.matches),preventScrollReset:B,blockers:$}),{viewTransitionOpts:G,flushSync:z===!0}),S=xe.Pop,P=!1,F=!1,ie=!1,he=!1,_t=[]}async function hc(_,k){if(typeof _=="number"){e.history.go(_);return}let T=Hl(y.location,y.matches,l,d.v7_prependBasename,_,d.v7_relativeSplatPath,k==null?void 0:k.fromRouteId,k==null?void 0:k.relative),{path:A,submission:L,error:z}=Ud(d.v7_normalizeFormMethod,!1,T,k),q=y.location,U=ts(y.location,A,k&&k.state);U=pe({},U,e.history.encodeLocation(U));let M=k&&k.replace!=null?k.replace:void 0,$=xe.Push;M===!0?$=xe.Replace:M===!1||L!=null&&bt(L.formMethod)&&L.formAction===y.location.pathname+y.location.search&&($=xe.Replace);let B=k&&"preventScrollReset"in k?k.preventScrollReset===!0:void 0,G=(k&&k.flushSync)===!0,X=Sc({currentLocation:q,nextLocation:U,historyAction:$});if(X){ys(X,{state:"blocked",location:U,proceed(){ys(X,{state:"proceeding",proceed:void 0,reset:void 0,location:U}),hc(_,k)},reset(){let Ie=new Map(y.blockers);Ie.set(X,mi),We({blockers:Ie})}});return}return await On($,U,{submission:L,pendingError:z,preventScrollReset:B,replace:k&&k.replace,enableViewTransition:k&&k.viewTransition,flushSync:G})}function rg(){if(sa(),We({revalidation:"loading"}),y.navigation.state!=="submitting"){if(y.navigation.state==="idle"){On(y.historyAction,y.location,{startUninterruptedRevalidation:!0});return}On(S||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation,enableViewTransition:F===!0})}}async function On(_,k,T){O&&O.abort(),O=null,S=_,ie=(T&&T.startUninterruptedRevalidation)===!0,hg(y.location,y.matches),P=(T&&T.preventScrollReset)===!0,F=(T&&T.enableViewTransition)===!0;let A=a||o,L=T&&T.overrideNavigation,z=T!=null&&T.initialHydration&&y.matches&&y.matches.length>0&&!p?y.matches:Mn(A,k,l),q=(T&&T.flushSync)===!0;if(z&&y.initialized&&!he&&A0(y.location,k)&&!(T&&T.submission&&bt(T.submission.formMethod))){lr(k,{matches:z},{flushSync:q});return}let U=ws(z,A,k.pathname);if(U.active&&U.matches&&(z=U.matches),!z){let{error:ae,notFoundMatches:te,route:we}=oa(k.pathname);lr(k,{matches:te,loaderData:{},errors:{[we.id]:ae}},{flushSync:q});return}O=new AbortController;let M=hr(e.history,k,O.signal,T&&T.submission),$;if(T&&T.pendingError)$=[Bn(z).route.id,{type:ne.error,error:T.pendingError}];else if(T&&T.submission&&bt(T.submission.formMethod)){let ae=await ig(M,k,T.submission,z,U.active,{replace:T.replace,flushSync:q});if(ae.shortCircuited)return;if(ae.pendingActionResult){let[te,we]=ae.pendingActionResult;if(st(we)&&ns(we.error)&&we.error.status===404){O=null,lr(k,{matches:ae.matches,loaderData:{},errors:{[te]:we.error}});return}}z=ae.matches||z,$=ae.pendingActionResult,L=$a(k,T.submission),q=!1,U.active=!1,M=hr(e.history,M.url,M.signal)}let{shortCircuited:B,matches:G,loaderData:X,errors:Ie}=await sg(M,k,z,U.active,L,T&&T.submission,T&&T.fetcherSubmission,T&&T.replace,T&&T.initialHydration===!0,q,$);B||(O=null,lr(k,pe({matches:G||z},Kd($),{loaderData:X,errors:Ie})))}async function ig(_,k,T,A,L,z){z===void 0&&(z={}),sa();let q=U0(k,T);if(We({navigation:q},{flushSync:z.flushSync===!0}),L){let $=await _s(A,k.pathname,_.signal);if($.type==="aborted")return{shortCircuited:!0};if($.type==="error"){let B=Bn($.partialMatches).route.id;return{matches:$.partialMatches,pendingActionResult:[B,{type:ne.error,error:$.error}]}}else if($.matches)A=$.matches;else{let{notFoundMatches:B,error:G,route:X}=oa(k.pathname);return{matches:B,pendingActionResult:[X.id,{type:ne.error,error:G}]}}}let U,M=xi(A,k);if(!M.route.action&&!M.route.lazy)U={type:ne.error,error:Ge(405,{method:_.method,pathname:k.pathname,routeId:M.route.id})};else if(U=(await ri("action",y,_,[M],A,null))[M.route.id],_.signal.aborted)return{shortCircuited:!0};if(qn(U)){let $;return z&&z.replace!=null?$=z.replace:$=Wd(U.response.headers.get("Location"),new URL(_.url),l)===y.location.pathname+y.location.search,await An(_,U,!0,{submission:T,replace:$}),{shortCircuited:!0}}if(mn(U))throw Ge(400,{type:"defer-action"});if(st(U)){let $=Bn(A,M.route.id);return(z&&z.replace)!==!0&&(S=xe.Push),{matches:A,pendingActionResult:[$.route.id,U]}}return{matches:A,pendingActionResult:[M.route.id,U]}}async function sg(_,k,T,A,L,z,q,U,M,$,B){let G=L||$a(k,z),X=z||q||Qd(G),Ie=!ie&&(!d.v7_partialHydration||!M);if(A){if(Ie){let _e=pc(B);We(pe({navigation:G},_e!==void 0?{actionData:_e}:{}),{flushSync:$})}let ee=await _s(T,k.pathname,_.signal);if(ee.type==="aborted")return{shortCircuited:!0};if(ee.type==="error"){let _e=Bn(ee.partialMatches).route.id;return{matches:ee.partialMatches,loaderData:{},errors:{[_e]:ee.error}}}else if(ee.matches)T=ee.matches;else{let{error:_e,notFoundMatches:cr,route:oi}=oa(k.pathname);return{matches:cr,loaderData:{},errors:{[oi.id]:_e}}}}let ae=a||o,[te,we]=Bd(e.history,y,T,X,k,d.v7_partialHydration&&M===!0,d.v7_skipActionErrorRevalidation,he,_t,At,Fe,St,oe,ae,l,B);if(aa(ee=>!(T&&T.some(_e=>_e.route.id===ee))||te&&te.some(_e=>_e.route.id===ee)),V=++H,te.length===0&&we.length===0){let ee=yc();return lr(k,pe({matches:T,loaderData:{},errors:B&&st(B[1])?{[B[0]]:B[1].error}:null},Kd(B),ee?{fetchers:new Map(y.fetchers)}:{}),{flushSync:$}),{shortCircuited:!0}}if(Ie){let ee={};if(!A){ee.navigation=G;let _e=pc(B);_e!==void 0&&(ee.actionData=_e)}we.length>0&&(ee.fetchers=og(we)),We(ee,{flushSync:$})}we.forEach(ee=>{nn(ee.key),ee.controller&&N.set(ee.key,ee.controller)});let ur=()=>we.forEach(ee=>nn(ee.key));O&&O.signal.addEventListener("abort",ur);let{loaderResults:ii,fetcherResults:zt}=await mc(y,T,te,we,_);if(_.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",ur),we.forEach(ee=>N.delete(ee.key));let It=Bs(ii);if(It)return await An(_,It.result,!0,{replace:U}),{shortCircuited:!0};if(It=Bs(zt),It)return oe.add(It.key),await An(_,It.result,!0,{replace:U}),{shortCircuited:!0};let{loaderData:la,errors:si}=Vd(y,T,ii,B,we,zt,ze);ze.forEach((ee,_e)=>{ee.subscribe(cr=>{(cr||ee.done)&&ze.delete(_e)})}),d.v7_partialHydration&&M&&y.errors&&(si=pe({},y.errors,si));let In=yc(),Ss=wc(V),Es=In||Ss||we.length>0;return pe({matches:T,loaderData:la,errors:si},Es?{fetchers:new Map(y.fetchers)}:{})}function pc(_){if(_&&!st(_[1]))return{[_[0]]:_[1].data};if(y.actionData)return Object.keys(y.actionData).length===0?null:y.actionData}function og(_){return _.forEach(k=>{let T=y.fetchers.get(k.key),A=gi(void 0,T?T.data:void 0);y.fetchers.set(k.key,A)}),new Map(y.fetchers)}function ag(_,k,T,A){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");nn(_);let L=(A&&A.flushSync)===!0,z=a||o,q=Hl(y.location,y.matches,l,d.v7_prependBasename,T,d.v7_relativeSplatPath,k,A==null?void 0:A.relative),U=Mn(z,q,l),M=ws(U,z,q);if(M.active&&M.matches&&(U=M.matches),!U){Ft(_,k,Ge(404,{pathname:q}),{flushSync:L});return}let{path:$,submission:B,error:G}=Ud(d.v7_normalizeFormMethod,!0,q,A);if(G){Ft(_,k,G,{flushSync:L});return}let X=xi(U,$),Ie=(A&&A.preventScrollReset)===!0;if(B&&bt(B.formMethod)){lg(_,k,$,X,U,M.active,L,Ie,B);return}St.set(_,{routeId:k,path:$}),ug(_,k,$,X,U,M.active,L,Ie,B)}async function lg(_,k,T,A,L,z,q,U,M){sa(),St.delete(_);function $(ke){if(!ke.route.action&&!ke.route.lazy){let dr=Ge(405,{method:M.formMethod,pathname:T,routeId:k});return Ft(_,k,dr,{flushSync:q}),!0}return!1}if(!z&&$(A))return;let B=y.fetchers.get(_);tn(_,M0(M,B),{flushSync:q});let G=new AbortController,X=hr(e.history,T,G.signal,M);if(z){let ke=await _s(L,new URL(X.url).pathname,X.signal,_);if(ke.type==="aborted")return;if(ke.type==="error"){Ft(_,k,ke.error,{flushSync:q});return}else if(ke.matches){if(L=ke.matches,A=xi(L,T),$(A))return}else{Ft(_,k,Ge(404,{pathname:T}),{flushSync:q});return}}N.set(_,G);let Ie=H,te=(await ri("action",y,X,[A],L,_))[A.route.id];if(X.signal.aborted){N.get(_)===G&&N.delete(_);return}if(d.v7_fetcherPersist&&Fe.has(_)){if(qn(te)||st(te)){tn(_,on(void 0));return}}else{if(qn(te))if(N.delete(_),V>Ie){tn(_,on(void 0));return}else return oe.add(_),tn(_,gi(M)),An(X,te,!1,{fetcherSubmission:M,preventScrollReset:U});if(st(te)){Ft(_,k,te.error);return}}if(mn(te))throw Ge(400,{type:"defer-action"});let we=y.navigation.location||y.location,ur=hr(e.history,we,G.signal),ii=a||o,zt=y.navigation.state!=="idle"?Mn(ii,y.navigation.location,l):y.matches;Y(zt,"Didn't find any matches after fetcher action");let It=++H;se.set(_,It);let la=gi(M,te.data);y.fetchers.set(_,la);let[si,In]=Bd(e.history,y,zt,M,we,!1,d.v7_skipActionErrorRevalidation,he,_t,At,Fe,St,oe,ii,l,[A.route.id,te]);In.filter(ke=>ke.key!==_).forEach(ke=>{let dr=ke.key,xc=y.fetchers.get(dr),gg=gi(void 0,xc?xc.data:void 0);y.fetchers.set(dr,gg),nn(dr),ke.controller&&N.set(dr,ke.controller)}),We({fetchers:new Map(y.fetchers)});let Ss=()=>In.forEach(ke=>nn(ke.key));G.signal.addEventListener("abort",Ss);let{loaderResults:Es,fetcherResults:ee}=await mc(y,zt,si,In,ur);if(G.signal.aborted)return;G.signal.removeEventListener("abort",Ss),se.delete(_),N.delete(_),In.forEach(ke=>N.delete(ke.key));let _e=Bs(Es);if(_e)return An(ur,_e.result,!1,{preventScrollReset:U});if(_e=Bs(ee),_e)return oe.add(_e.key),An(ur,_e.result,!1,{preventScrollReset:U});let{loaderData:cr,errors:oi}=Vd(y,zt,Es,void 0,In,ee,ze);if(y.fetchers.has(_)){let ke=on(te.data);y.fetchers.set(_,ke)}wc(It),y.navigation.state==="loading"&&It>V?(Y(S,"Expected pending action"),O&&O.abort(),lr(y.navigation.location,{matches:zt,loaderData:cr,errors:oi,fetchers:new Map(y.fetchers)})):(We({errors:oi,loaderData:qd(y.loaderData,cr,zt,oi),fetchers:new Map(y.fetchers)}),he=!1)}async function ug(_,k,T,A,L,z,q,U,M){let $=y.fetchers.get(_);tn(_,gi(M,$?$.data:void 0),{flushSync:q});let B=new AbortController,G=hr(e.history,T,B.signal);if(z){let te=await _s(L,new URL(G.url).pathname,G.signal,_);if(te.type==="aborted")return;if(te.type==="error"){Ft(_,k,te.error,{flushSync:q});return}else if(te.matches)L=te.matches,A=xi(L,T);else{Ft(_,k,Ge(404,{pathname:T}),{flushSync:q});return}}N.set(_,B);let X=H,ae=(await ri("loader",y,G,[A],L,_))[A.route.id];if(mn(ae)&&(ae=await ic(ae,G.signal,!0)||ae),N.get(_)===B&&N.delete(_),!G.signal.aborted){if(Fe.has(_)){tn(_,on(void 0));return}if(qn(ae))if(V>X){tn(_,on(void 0));return}else{oe.add(_),await An(G,ae,!1,{preventScrollReset:U});return}if(st(ae)){Ft(_,k,ae.error);return}Y(!mn(ae),"Unhandled fetcher deferred data"),tn(_,on(ae.data))}}async function An(_,k,T,A){let{submission:L,fetcherSubmission:z,preventScrollReset:q,replace:U}=A===void 0?{}:A;k.response.headers.has("X-Remix-Revalidate")&&(he=!0);let M=k.response.headers.get("Location");Y(M,"Expected a Location header on the redirect Response"),M=Wd(M,new URL(_.url),l);let $=ts(y.location,M,{_isRedirect:!0});if(n){let te=!1;if(k.response.headers.has("X-Remix-Reload-Document"))te=!0;else if(rc.test(M)){const we=e.history.createURL(M);te=we.origin!==t.location.origin||ei(we.pathname,l)==null}if(te){U?t.location.replace(M):t.location.assign(M);return}}O=null;let B=U===!0||k.response.headers.has("X-Remix-Replace")?xe.Replace:xe.Push,{formMethod:G,formAction:X,formEncType:Ie}=y.navigation;!L&&!z&&G&&X&&Ie&&(L=Qd(y.navigation));let ae=L||z;if(w0.has(k.response.status)&&ae&&bt(ae.formMethod))await On(B,$,{submission:pe({},ae,{formAction:M}),preventScrollReset:q||P,enableViewTransition:T?F:void 0});else{let te=$a($,L);await On(B,$,{overrideNavigation:te,fetcherSubmission:z,preventScrollReset:q||P,enableViewTransition:T?F:void 0})}}async function ri(_,k,T,A,L,z){let q,U={};try{q=await T0(u,_,k,T,A,L,z,s,i)}catch(M){return A.forEach($=>{U[$.route.id]={type:ne.error,error:M}}),U}for(let[M,$]of Object.entries(q))if(I0($)){let B=$.result;U[M]={type:ne.redirect,response:R0(B,T,M,L,l,d.v7_relativeSplatPath)}}else U[M]=await j0($);return U}async function mc(_,k,T,A,L){let z=_.matches,q=ri("loader",_,L,T,k,null),U=Promise.all(A.map(async B=>{if(B.matches&&B.match&&B.controller){let X=(await ri("loader",_,hr(e.history,B.path,B.controller.signal),[B.match],B.matches,B.key))[B.match.route.id];return{[B.key]:X}}else return Promise.resolve({[B.key]:{type:ne.error,error:Ge(404,{pathname:B.path})}})})),M=await q,$=(await U).reduce((B,G)=>Object.assign(B,G),{});return await Promise.all([D0(k,M,L.signal,z,_.loaderData),$0(k,$,A)]),{loaderResults:M,fetcherResults:$}}function sa(){he=!0,_t.push(...aa()),St.forEach((_,k)=>{N.has(k)&&At.add(k),nn(k)})}function tn(_,k,T){T===void 0&&(T={}),y.fetchers.set(_,k),We({fetchers:new Map(y.fetchers)},{flushSync:(T&&T.flushSync)===!0})}function Ft(_,k,T,A){A===void 0&&(A={});let L=Bn(y.matches,k);vs(_),We({errors:{[L.route.id]:T},fetchers:new Map(y.fetchers)},{flushSync:(A&&A.flushSync)===!0})}function gc(_){return nt.set(_,(nt.get(_)||0)+1),Fe.has(_)&&Fe.delete(_),y.fetchers.get(_)||_0}function vs(_){let k=y.fetchers.get(_);N.has(_)&&!(k&&k.state==="loading"&&se.has(_))&&nn(_),St.delete(_),se.delete(_),oe.delete(_),d.v7_fetcherPersist&&Fe.delete(_),At.delete(_),y.fetchers.delete(_)}function cg(_){let k=(nt.get(_)||0)-1;k<=0?(nt.delete(_),Fe.add(_),d.v7_fetcherPersist||vs(_)):nt.set(_,k),We({fetchers:new Map(y.fetchers)})}function nn(_){let k=N.get(_);k&&(k.abort(),N.delete(_))}function vc(_){for(let k of _){let T=gc(k),A=on(T.data);y.fetchers.set(k,A)}}function yc(){let _=[],k=!1;for(let T of oe){let A=y.fetchers.get(T);Y(A,"Expected fetcher: "+T),A.state==="loading"&&(oe.delete(T),_.push(T),k=!0)}return vc(_),k}function wc(_){let k=[];for(let[T,A]of se)if(A<_){let L=y.fetchers.get(T);Y(L,"Expected fetcher: "+T),L.state==="loading"&&(nn(T),se.delete(T),k.push(T))}return vc(k),k.length>0}function dg(_,k){let T=y.blockers.get(_)||mi;return dt.get(_)!==k&&dt.set(_,k),T}function _c(_){y.blockers.delete(_),dt.delete(_)}function ys(_,k){let T=y.blockers.get(_)||mi;Y(T.state==="unblocked"&&k.state==="blocked"||T.state==="blocked"&&k.state==="blocked"||T.state==="blocked"&&k.state==="proceeding"||T.state==="blocked"&&k.state==="unblocked"||T.state==="proceeding"&&k.state==="unblocked","Invalid blocker state transition: "+T.state+" -> "+k.state);let A=new Map(y.blockers);A.set(_,k),We({blockers:A})}function Sc(_){let{currentLocation:k,nextLocation:T,historyAction:A}=_;if(dt.size===0)return;dt.size>1&&Gr(!1,"A router only supports one blocker at a time");let L=Array.from(dt.entries()),[z,q]=L[L.length-1],U=y.blockers.get(z);if(!(U&&U.state==="proceeding")&&q({currentLocation:k,nextLocation:T,historyAction:A}))return z}function oa(_){let k=Ge(404,{pathname:_}),T=a||o,{matches:A,route:L}=Jd(T);return aa(),{notFoundMatches:A,route:L,error:k}}function aa(_){let k=[];return ze.forEach((T,A)=>{(!_||_(A))&&(T.cancel(),k.push(A),ze.delete(A))}),k}function fg(_,k,T){if(v=_,x=k,w=T||null,!g&&y.navigation===Da){g=!0;let A=kc(y.location,y.matches);A!=null&&We({restoreScrollPosition:A})}return()=>{v=null,x=null,w=null}}function Ec(_,k){return w&&w(_,k.map(A=>Yy(A,y.loaderData)))||_.key}function hg(_,k){if(v&&x){let T=Ec(_,k);v[T]=x()}}function kc(_,k){if(v){let T=Ec(_,k),A=v[T];if(typeof A=="number")return A}return null}function ws(_,k,T){if(c)if(_){if(Object.keys(_[0].params).length>0)return{active:!0,matches:no(k,T,l,!0)}}else return{active:!0,matches:no(k,T,l,!0)||[]};return{active:!1,matches:null}}async function _s(_,k,T,A){if(!c)return{type:"success",matches:_};let L=_;for(;;){let z=a==null,q=a||o,U=s;try{await c({signal:T,path:k,matches:L,fetcherKey:A,patch:(B,G)=>{T.aborted||zd(B,G,q,U,i)}})}catch(B){return{type:"error",error:B,partialMatches:L}}finally{z&&!T.aborted&&(o=[...o])}if(T.aborted)return{type:"aborted"};let M=Mn(q,k,l);if(M)return{type:"success",matches:M};let $=no(q,k,l,!0);if(!$||L.length===$.length&&L.every((B,G)=>B.route.id===$[G].route.id))return{type:"success",matches:null};L=$}}function pg(_){s={},a=Po(_,i,void 0,s)}function mg(_,k){let T=a==null;zd(_,k,a||o,s,i),T&&(o=[...o],We({}))}return R={get basename(){return l},get future(){return d},get state(){return y},get routes(){return o},get window(){return t},initialize:eg,subscribe:ng,enableScrollRestoration:fg,navigate:hc,fetch:ag,revalidate:rg,createHref:_=>e.history.createHref(_),encodeLocation:_=>e.history.encodeLocation(_),getFetcher:gc,deleteFetcher:cg,dispose:tg,getBlocker:dg,deleteBlocker:_c,patchRoutes:mg,_internalFetchControllers:N,_internalActiveDeferreds:ze,_internalSetRoutes:pg},R}function k0(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Hl(e,t,n,r,i,s,o,a){let l,u;if(o){l=[];for(let d of t)if(l.push(d),d.route.id===o){u=d;break}}else l=t,u=t[t.length-1];let c=nc(i||".",tc(l,s),ei(e.pathname,n)||e.pathname,a==="path");if(i==null&&(c.search=e.search,c.hash=e.hash),(i==null||i===""||i===".")&&u){let d=sc(c.search);if(u.route.index&&!d)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&d){let f=new URLSearchParams(c.search),m=f.getAll("index");f.delete("index"),m.filter(w=>w).forEach(w=>f.append("index",w));let v=f.toString();c.search=v?"?"+v:""}}return r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:Gt([n,c.pathname])),tr(c)}function Ud(e,t,n,r){if(!r||!k0(r))return{path:n};if(r.formMethod&&!L0(r.formMethod))return{path:n,error:Ge(405,{method:r.formMethod})};let i=()=>({path:n,error:Ge(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=e?s.toUpperCase():s.toLowerCase(),a=om(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!bt(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,v)=>{let[w,x]=v;return""+m+w+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!bt(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}Y(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=ql(r.formData),u=r.formData;else if(r.body instanceof FormData)l=ql(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=Hd(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=Hd(l)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(bt(c.formMethod))return{path:n,submission:c};let d=jn(n);return t&&d.search&&sc(d.search)&&l.append("index",""),d.search="?"+l,{path:tr(d),submission:c}}function Md(e,t,n){n===void 0&&(n=!1);let r=e.findIndex(i=>i.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function Bd(e,t,n,r,i,s,o,a,l,u,c,d,f,m,v,w){let x=w?st(w[1])?w[1].error:w[1].data:void 0,g=e.createURL(t.location),h=e.createURL(i),p=n;s&&t.errors?p=Md(n,Object.keys(t.errors)[0],!0):w&&st(w[1])&&(p=Md(n,w[0]));let E=w?w[1].statusCode:void 0,j=o&&E&&E>=400,R=p.filter((S,P)=>{let{route:O}=S;if(O.lazy)return!0;if(O.loader==null)return!1;if(s)return Vl(O,t.loaderData,t.errors);if(x0(t.loaderData,t.matches[P],S)||l.some(ce=>ce===S.route.id))return!0;let F=t.matches[P],K=S;return Fd(S,pe({currentUrl:g,currentParams:F.params,nextUrl:h,nextParams:K.params},r,{actionResult:x,actionStatus:E,defaultShouldRevalidate:j?!1:a||g.pathname+g.search===h.pathname+h.search||g.search!==h.search||im(F,K)}))}),y=[];return d.forEach((S,P)=>{if(s||!n.some(ie=>ie.route.id===S.routeId)||c.has(P))return;let O=Mn(m,S.path,v);if(!O){y.push({key:P,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let F=t.fetchers.get(P),K=xi(O,S.path),ce=!1;f.has(P)?ce=!1:u.has(P)?(u.delete(P),ce=!0):F&&F.state!=="idle"&&F.data===void 0?ce=a:ce=Fd(K,pe({currentUrl:g,currentParams:t.matches[t.matches.length-1].params,nextUrl:h,nextParams:n[n.length-1].params},r,{actionResult:x,actionStatus:E,defaultShouldRevalidate:j?!1:a})),ce&&y.push({key:P,routeId:S.routeId,path:S.path,matches:O,match:K,controller:new AbortController})}),[R,y]}function Vl(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function x0(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function im(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Fd(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function zd(e,t,n,r,i){var s;let o;if(e){let u=r[e];Y(u,"No route found to patch children into: routeId = "+e),u.children||(u.children=[]),o=u.children}else o=n;let a=t.filter(u=>!o.some(c=>sm(u,c))),l=Po(a,i,[e||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...l)}function sm(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var i;return(i=t.children)==null?void 0:i.some(s=>sm(n,s))}):!1}async function C0(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];Y(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Gr(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!Gy.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,pe({},t(i),{lazy:void 0}))}async function b0(e){let{matches:t}=e,n=t.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function T0(e,t,n,r,i,s,o,a,l,u){let c=s.map(m=>m.route.lazy?C0(m.route,l,a):void 0),d=s.map((m,v)=>{let w=c[v],x=i.some(h=>h.route.id===m.route.id);return pe({},m,{shouldLoad:x,resolve:async h=>(h&&r.method==="GET"&&(m.route.lazy||m.route.loader)&&(x=!0),x?P0(t,r,m,w,h,u):Promise.resolve({type:ne.data,result:void 0}))})}),f=await e({matches:d,request:r,params:s[0].params,fetcherKey:o,context:u});try{await Promise.all(c)}catch{}return f}async function P0(e,t,n,r,i,s){let o,a,l=u=>{let c,d=new Promise((v,w)=>c=w);a=()=>c(),t.signal.addEventListener("abort",a);let f=v=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):u({request:t,params:n.params,context:s},...v!==void 0?[v]:[]),m=(async()=>{try{return{type:"data",result:await(i?i(w=>f(w)):f())}}catch(v){return{type:"error",result:v}}})();return Promise.race([m,d])};try{let u=n.route[e];if(r)if(u){let c,[d]=await Promise.all([l(u).catch(f=>{c=f}),r]);if(c!==void 0)throw c;o=d}else if(await r,u=n.route[e],u)o=await l(u);else if(e==="action"){let c=new URL(t.url),d=c.pathname+c.search;throw Ge(405,{method:t.method,pathname:d,routeId:n.route.id})}else return{type:ne.data,result:void 0};else if(u)o=await l(u);else{let c=new URL(t.url),d=c.pathname+c.search;throw Ge(404,{pathname:d})}Y(o.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:ne.error,result:u}}finally{a&&t.signal.removeEventListener("abort",a)}return o}async function j0(e){let{result:t,type:n}=e;if(am(t)){let d;try{let f=t.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?t.body==null?d=null:d=await t.json():d=await t.text()}catch(f){return{type:ne.error,error:f}}return n===ne.error?{type:ne.error,error:new jo(t.status,t.statusText,d),statusCode:t.status,headers:t.headers}:{type:ne.data,data:d,statusCode:t.status,headers:t.headers}}if(n===ne.error){if(Gd(t)){var r,i;if(t.data instanceof Error){var s,o;return{type:ne.error,error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}}return{type:ne.error,error:new jo(((r=t.init)==null?void 0:r.status)||500,void 0,t.data),statusCode:ns(t)?t.status:void 0,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}}return{type:ne.error,error:t,statusCode:ns(t)?t.status:void 0}}if(N0(t)){var a,l;return{type:ne.deferred,deferredData:t,statusCode:(a=t.init)==null?void 0:a.status,headers:((l=t.init)==null?void 0:l.headers)&&new Headers(t.init.headers)}}if(Gd(t)){var u,c;return{type:ne.data,data:t.data,statusCode:(u=t.init)==null?void 0:u.status,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}}return{type:ne.data,data:t}}function R0(e,t,n,r,i,s){let o=e.headers.get("Location");if(Y(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!rc.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=Hl(new URL(t.url),a,i,!0,o,s),e.headers.set("Location",o)}return e}function Wd(e,t,n){if(rc.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=ei(i.pathname,n)!=null;if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function hr(e,t,n,r){let i=e.createURL(om(t)).toString(),s={signal:n};if(r&&bt(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=ql(r.formData):s.body=r.formData}return new Request(i,s)}function ql(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Hd(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function O0(e,t,n,r,i){let s={},o=null,a,l=!1,u={},c=n&&st(n[1])?n[1].error:void 0;return e.forEach(d=>{if(!(d.route.id in t))return;let f=d.route.id,m=t[f];if(Y(!qn(m),"Cannot handle redirect results in processLoaderData"),st(m)){let v=m.error;c!==void 0&&(v=c,c=void 0),o=o||{};{let w=Bn(e,f);o[w.route.id]==null&&(o[w.route.id]=v)}s[f]=void 0,l||(l=!0,a=ns(m.error)?m.error.status:500),m.headers&&(u[f]=m.headers)}else mn(m)?(r.set(f,m.deferredData),s[f]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(u[f]=m.headers)):(s[f]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(u[f]=m.headers))}),c!==void 0&&n&&(o={[n[0]]:c},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function Vd(e,t,n,r,i,s,o){let{loaderData:a,errors:l}=O0(t,n,r,o);return i.forEach(u=>{let{key:c,match:d,controller:f}=u,m=s[c];if(Y(m,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(st(m)){let v=Bn(e.matches,d==null?void 0:d.route.id);l&&l[v.route.id]||(l=pe({},l,{[v.route.id]:m.error})),e.fetchers.delete(c)}else if(qn(m))Y(!1,"Unhandled fetcher revalidation redirect");else if(mn(m))Y(!1,"Unhandled fetcher deferred data");else{let v=on(m.data);e.fetchers.set(c,v)}}),{loaderData:a,errors:l}}function qd(e,t,n,r){let i=pe({},t);for(let s of n){let o=s.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(i[o]=t[o]):e[o]!==void 0&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function Kd(e){return e?st(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Bn(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Jd(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ge(e,t){let{pathname:n,routeId:r,method:i,type:s,message:o}=t===void 0?{}:t,a="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):e===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):e===404?(a="Not Found",l='No route matches URL "'+n+'"'):e===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new jo(e||500,a,new Error(l),!0)}function Bs(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(qn(i))return{key:r,result:i}}}function om(e){let t=typeof e=="string"?jn(e):e;return tr(pe({},t,{hash:""}))}function A0(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function I0(e){return am(e.result)&&y0.has(e.result.status)}function mn(e){return e.type===ne.deferred}function st(e){return e.type===ne.error}function qn(e){return(e&&e.type)===ne.redirect}function Gd(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function N0(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function am(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function L0(e){return v0.has(e.toLowerCase())}function bt(e){return m0.has(e.toLowerCase())}async function D0(e,t,n,r,i){let s=Object.entries(t);for(let o=0;o<s.length;o++){let[a,l]=s[o],u=e.find(f=>(f==null?void 0:f.route.id)===a);if(!u)continue;let c=r.find(f=>f.route.id===u.route.id),d=c!=null&&!im(c,u)&&(i&&i[u.route.id])!==void 0;mn(l)&&d&&await ic(l,n,!1).then(f=>{f&&(t[a]=f)})}}async function $0(e,t,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=t[i];e.find(u=>(u==null?void 0:u.route.id)===s)&&mn(a)&&(Y(o,"Expected an AbortController for revalidating fetcher deferred result"),await ic(a,o.signal,!0).then(u=>{u&&(t[i]=u)}))}}async function ic(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:ne.data,data:e.deferredData.unwrappedData}}catch(i){return{type:ne.error,error:i}}return{type:ne.data,data:e.deferredData.data}}}function sc(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function xi(e,t){let n=typeof t=="string"?jn(t).search:t.search;if(e[e.length-1].route.index&&sc(n||""))return e[e.length-1];let r=tm(e);return r[r.length-1]}function Qd(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function $a(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function U0(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function gi(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function M0(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function on(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function B0(e,t){try{let n=e.sessionStorage.getItem(rm);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function F0(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(rm,JSON.stringify(n))}catch(r){Gr(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ro(){return Ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ro.apply(this,arguments)}const Yo=b.createContext(null),lm=b.createContext(null),ir=b.createContext(null),oc=b.createContext(null),sr=b.createContext({outlet:null,matches:[],isDataRoute:!1}),um=b.createContext(null);function z0(e,t){let{relative:n}=t===void 0?{}:t;fs()||Y(!1);let{basename:r,navigator:i}=b.useContext(ir),{hash:s,pathname:o,search:a}=dm(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Gt([r,o])),i.createHref({pathname:l,search:a,hash:s})}function fs(){return b.useContext(oc)!=null}function Xo(){return fs()||Y(!1),b.useContext(oc).location}function cm(e){b.useContext(ir).static||b.useLayoutEffect(e)}function ac(){let{isDataRoute:e}=b.useContext(sr);return e?ew():W0()}function W0(){fs()||Y(!1);let e=b.useContext(Yo),{basename:t,future:n,navigator:r}=b.useContext(ir),{matches:i}=b.useContext(sr),{pathname:s}=Xo(),o=JSON.stringify(tc(i,n.v7_relativeSplatPath)),a=b.useRef(!1);return cm(()=>{a.current=!0}),b.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=nc(u,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Gt([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,o,s,e])}function dm(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext(ir),{matches:i}=b.useContext(sr),{pathname:s}=Xo(),o=JSON.stringify(tc(i,r.v7_relativeSplatPath));return b.useMemo(()=>nc(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function H0(e,t,n,r){fs()||Y(!1);let{navigator:i}=b.useContext(ir),{matches:s}=b.useContext(sr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Xo(),c;c=u;let d=c.pathname||"/",f=d;if(l!=="/"){let w=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(w.length).join("/")}let m=Mn(e,{pathname:f});return G0(m&&m.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Gt([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Gt([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r)}function V0(){let e=Z0(),t=ns(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:i},n):null,null)}const q0=b.createElement(V0,null);class K0 extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(sr.Provider,{value:this.props.routeContext},b.createElement(um.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function J0(e){let{routeContext:t,match:n,children:r}=e,i=b.useContext(Yo);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(sr.Provider,{value:t},r)}function G0(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||Y(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:m}=n,v=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,f)=>{let m,v=!1,w=null,x=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,w=d.route.errorElement||q0,l&&(u<0&&f===0?(tw("route-fallback"),v=!0,x=null):u===f&&(v=!0,x=d.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,f+1)),h=()=>{let p;return m?p=w:v?p=x:d.route.Component?p=b.createElement(d.route.Component,null):d.route.element?p=d.route.element:p=c,b.createElement(J0,{match:d,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:p})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?b.createElement(K0,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:h(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):h()},null)}var fm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fm||{}),hm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(hm||{});function Q0(e){let t=b.useContext(Yo);return t||Y(!1),t}function Y0(e){let t=b.useContext(lm);return t||Y(!1),t}function X0(e){let t=b.useContext(sr);return t||Y(!1),t}function pm(e){let t=X0(),n=t.matches[t.matches.length-1];return n.route.id||Y(!1),n.route.id}function Z0(){var e;let t=b.useContext(um),n=Y0(hm.UseRouteError),r=pm();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function ew(){let{router:e}=Q0(fm.UseNavigateStable),t=pm(),n=b.useRef(!1);return cm(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ro({fromRouteId:t},s)))},[e,t])}const Yd={};function tw(e,t,n){Yd[e]||(Yd[e]=!0)}function nw(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function rw(e){let{basename:t="/",children:n=null,location:r,navigationType:i=xe.Pop,navigator:s,static:o=!1,future:a}=e;fs()&&Y(!1);let l=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:s,static:o,future:Ro({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=jn(r));let{pathname:c="/",search:d="",hash:f="",state:m=null,key:v="default"}=r,w=b.useMemo(()=>{let x=ei(c,l);return x==null?null:{location:{pathname:x,search:d,hash:f,state:m,key:v},navigationType:i}},[l,c,d,f,m,v,i]);return w==null?null:b.createElement(ir.Provider,{value:u},b.createElement(oc.Provider,{children:n,value:w}))}new Promise(()=>{});function iw(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:b.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:b.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:b.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rs.apply(this,arguments)}function sw(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function ow(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function aw(e,t){return e.button===0&&(!t||t==="_self")&&!ow(e)}const lw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],uw="6";try{window.__reactRouterVersion=uw}catch{}function cw(e,t){return E0({basename:void 0,future:rs({},void 0,{v7_prependBasename:!0}),history:qy({window:void 0}),hydrationData:dw(),routes:e,mapRouteProperties:iw,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function dw(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=rs({},t,{errors:fw(t.errors)})),t}function fw(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new jo(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const hw=b.createContext({isTransitioning:!1}),pw=b.createContext(new Map),mw="startTransition",Xd=Ig[mw],gw="flushSync",Zd=Vy[gw];function vw(e){Xd?Xd(e):e()}function vi(e){Zd?Zd(e):e()}let yw=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function ww(e){let{fallbackElement:t,router:n,future:r}=e,[i,s]=b.useState(n.state),[o,a]=b.useState(),[l,u]=b.useState({isTransitioning:!1}),[c,d]=b.useState(),[f,m]=b.useState(),[v,w]=b.useState(),x=b.useRef(new Map),{v7_startTransition:g}=r||{},h=b.useCallback(S=>{g?vw(S):S()},[g]),p=b.useCallback((S,P)=>{let{deletedFetchers:O,flushSync:F,viewTransitionOpts:K}=P;S.fetchers.forEach((ie,he)=>{ie.data!==void 0&&x.current.set(he,ie.data)}),O.forEach(ie=>x.current.delete(ie));let ce=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!K||ce){F?vi(()=>s(S)):h(()=>s(S));return}if(F){vi(()=>{f&&(c&&c.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:K.currentLocation,nextLocation:K.nextLocation})});let ie=n.window.document.startViewTransition(()=>{vi(()=>s(S))});ie.finished.finally(()=>{vi(()=>{d(void 0),m(void 0),a(void 0),u({isTransitioning:!1})})}),vi(()=>m(ie));return}f?(c&&c.resolve(),f.skipTransition(),w({state:S,currentLocation:K.currentLocation,nextLocation:K.nextLocation})):(a(S),u({isTransitioning:!0,flushSync:!1,currentLocation:K.currentLocation,nextLocation:K.nextLocation}))},[n.window,f,c,x,h]);b.useLayoutEffect(()=>n.subscribe(p),[n,p]),b.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new yw)},[l]),b.useEffect(()=>{if(c&&o&&n.window){let S=o,P=c.promise,O=n.window.document.startViewTransition(async()=>{h(()=>s(S)),await P});O.finished.finally(()=>{d(void 0),m(void 0),a(void 0),u({isTransitioning:!1})}),m(O)}},[h,o,c,n.window]),b.useEffect(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,f,i.location,o]),b.useEffect(()=>{!l.isTransitioning&&v&&(a(v.state),u({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),w(void 0))},[l.isTransitioning,v]),b.useEffect(()=>{},[]);let E=b.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:S=>n.navigate(S),push:(S,P,O)=>n.navigate(S,{state:P,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(S,P,O)=>n.navigate(S,{replace:!0,state:P,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[n]),j=n.basename||"/",R=b.useMemo(()=>({router:n,navigator:E,static:!1,basename:j}),[n,E,j]),y=b.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return b.useEffect(()=>nw(r,n.future),[r,n.future]),b.createElement(b.Fragment,null,b.createElement(Yo.Provider,{value:R},b.createElement(lm.Provider,{value:i},b.createElement(pw.Provider,{value:x.current},b.createElement(hw.Provider,{value:l},b.createElement(rw,{basename:j,location:i.location,navigationType:i.historyAction,navigator:E,future:y},i.initialized||n.future.v7_partialHydration?b.createElement(_w,{routes:n.routes,future:n.future,state:i}):t))))),null)}const _w=b.memo(Sw);function Sw(e){let{routes:t,future:n,state:r}=e;return H0(t,void 0,r,n)}const Ew=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pt=b.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=t,f=sw(t,lw),{basename:m}=b.useContext(ir),v,w=!1;if(typeof u=="string"&&kw.test(u)&&(v=u,Ew))try{let p=new URL(window.location.href),E=u.startsWith("//")?new URL(p.protocol+u):new URL(u),j=ei(E.pathname,m);E.origin===p.origin&&j!=null?u=j+E.search+E.hash:w=!0}catch{}let x=z0(u,{relative:i}),g=xw(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function h(p){r&&r(p),p.defaultPrevented||g(p)}return b.createElement("a",rs({},f,{href:v||x,onClick:w||s?r:h,ref:n,target:l}))});var ef;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ef||(ef={}));var tf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(tf||(tf={}));function xw(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=t===void 0?{}:t,l=ac(),u=Xo(),c=dm(e,{relative:o});return b.useCallback(d=>{if(aw(d,n)){d.preventDefault();let f=r!==void 0?r:tr(u)===tr(c);l(e,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,r,i,n,e,s,o,a])}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>console.log("[sw] registered",e.scope)).catch(e=>console.warn("[sw] registration failed",e))});function Cw({layers:e,size:t=460,playing:n=!0,pixelRatio:r=typeof window<"u"&&window.devicePixelRatio||1,corsMode:i="none"}){const s=b.useRef(null),o=b.useRef(new Map),a=b.useRef(),l=b.useRef(0),u=async d=>{const f=o.current;if(f.has(d))return f.get(d);const m=new Image;return i==="anonymous"&&(m.crossOrigin="anonymous"),m.decoding="async",m.src=d,await m.decode(),f.set(d,m),m},c=async d=>{var g,h;const f=s.current;if(!f)return;const m=f.getContext("2d");if(!m)return;const v=t*r,w=t*r;m.clearRect(0,0,v,w);const x=[...e].sort((p,E)=>p.z-E.z);for(const p of x){const E=await u(p.src).catch(()=>null);if(!E)continue;const j=p.scale??1,R=(((g=p.offset)==null?void 0:g.x)??0)*r,y=(((h=p.offset)==null?void 0:h.y)??0)*r,S=v*j,P=w*j,O=m.globalAlpha;if(m.globalAlpha=p.opacity??1,p.atlas&&n){const{cols:F,rows:K,frames:ce,fps:ie=6}=p.atlas,he=E.width/F,_t=E.height/K,At=(d-l.current)/1e3,N=Math.floor(At*ie)%Math.max(1,ce),H=N%F,V=Math.floor(N/F);m.drawImage(E,Math.floor(H*he),Math.floor(V*_t),Math.floor(he),Math.floor(_t),Math.floor((v-S)/2+R),Math.floor((w-P)/2+y),Math.floor(S),Math.floor(P))}else m.drawImage(E,Math.floor((v-S)/2+R),Math.floor((w-P)/2+y),Math.floor(S),Math.floor(P));m.globalAlpha=O}};return b.useEffect(()=>{const d=s.current;if(!d)return;d.width=t*r,d.height=t*r,d.style.width=`${t}px`,d.style.height=`${t}px`;let f=!0;const m=e.some(w=>!!w.atlas)&&n,v=w=>{f&&(c(w),a.current=m?requestAnimationFrame(v):void 0)};return c(performance.now()),m&&(a.current=requestAnimationFrame(v)),()=>{f=!1,a.current&&cancelAnimationFrame(a.current)}},[JSON.stringify(e),t,r,n,i]),C.jsx("canvas",{ref:s})}const mm="qrpg_inventory_v1",nf={coins:0,items:{},cosmeticsOwned:{},equipped:{},version:1};function rf(){try{return{...nf,...JSON.parse(localStorage.getItem(mm)??"null")}}catch{return{...nf}}}function bw(e){localStorage.setItem(mm,JSON.stringify(e))}class gm{async load(){return rf()}async apply(t){const n=rf();if(t.coinDelta&&(n.coins=Math.max(0,n.coins+t.coinDelta)),t.itemDelta)for(const[r,i]of Object.entries(t.itemDelta))n.items[r]=Math.max(0,(n.items[r]??0)+i),n.items[r]===0&&delete n.items[r];return t.cosmeticsAdd&&t.cosmeticsAdd.forEach(r=>n.cosmeticsOwned[r]=!0),t.equip&&(n.equipped={...n.equipped,...t.equip}),bw(n),n}}class Tw{constructor(t){this.inv=t}async open(t,n,r){const i=await this.inv.load(),s=t.cost.coin??0,o=t.cost.ticketId;if(o){if((i.items[o]??0)<n)throw new Error("티켓이 부족합니다.")}else if(i.coins<s*n)throw new Error("코인이 부족합니다.");const a=t.entries.reduce((c,d)=>c+d.weight,0),l=[];for(let c=0;c<n;c++){const d=Math.random()*a;let f=0,m=t.entries[0].cosmeticId;for(const v of t.entries)if(f+=v.weight,d<=f){m=v.cosmeticId;break}l.push(m)}const u={idempotencyKey:r==null?void 0:r.idempotencyKey,coinDelta:o?0:-(s*n),itemDelta:o?{[o]:-n}:void 0,cosmeticsAdd:l,reason:`gacha:${t.id}`};return await this.inv.apply(u),{results:l,consumed:o?{ticketId:o,count:n}:{coin:s*n}}}}function hs(){const e=new gm,t=new Tw(e);return{inv:e,gacha:t}}const Pw="modulepreload",jw=function(e){return"/"+e},sf={},or=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=jw(l),l in sf)return;sf[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Pw,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},Ua={},of=Ua==null?void 0:Ua.VITE_PACKS_BASE,Rw=of?`${of.replace(/\/+$/,"")}/wearables.v1.json`:"/packs/wearables.v1.json";let Lt=null;function Ow(e){const t={};for(const[n,r]of Object.entries(e||{}))if(!(!r||typeof r!="object")&&r.slot&&r.src){const i={kind:"cosmetic",id:r.id??n,name:r.name??n,slot:r.slot,src:r.src,rarity:r.rarity,opacity:r.opacity,scale:r.scale,offset:r.offset,atlas:r.atlas};t[n]=i}return t}function vm(e){if(!e||typeof e!="object")return{};const t=Object.values(e)[0];return t&&typeof t=="object"&&"kind"in t?e:Ow(e)}async function Aw(e,t=!1){const n=t?`${e}${e.includes("?")?"&":"?"}b=${Date.now()}`:e,r=await fetch(n,{cache:"no-store"});if(!r.ok)throw new Error(`catalog HTTP ${r.status}`);const i=await r.json();return vm(i)}async function af(){try{const e=await or(()=>import("./wearable.sheet-fwlM4-2j.js"),[]),t=e.loadWearablesCatalogFromSheet||e.loadWearablesCatalog||null;if(!t)throw new Error("no sheet loader export");const n=await t();return vm(n)}catch{return{}}}async function is(e){if(Lt)return Lt;const t=Rw;try{if(Lt=await Aw(t,!!(e!=null&&e.bust)),!Lt||Object.keys(Lt).length===0&&!(e!=null&&e.skipSheetFallback)){const n=await af();Object.keys(n).length&&(Lt=n)}}catch{{const n=await af();Object.keys(n).length&&(Lt=n)}Lt||(Lt={})}return Lt}const lf="inv:changed",Iw=e=>(window.addEventListener(lf,e),()=>window.removeEventListener(lf,e));function Nw(e){return Promise.all(e.map(t=>new Promise(n=>{const r=new Image;r.src=t,r.onload=r.onerror=()=>n(null)})))}const Lw=["Body","BodySuit","Pants","Shoes","Clothes","Sleeves","Bag","Necklace","Scarf","Bowtie","Face","Hair","Hat"],Dw=e=>(e??"").toLowerCase(),uf="/".replace(/\/$/,""),$w=e=>{if(e)return/^https?:\/\//i.test(e)?e:e.startsWith("/")?`${uf}${e}`:`${uf}/${e}`},Uw=e=>$w((e==null?void 0:e.src)??(e==null?void 0:e.image)??(e==null?void 0:e.img)??(e==null?void 0:e.renderSrc)??(e==null?void 0:e.render)??(e==null?void 0:e.thumbnail)??(e==null?void 0:e.thumb)??(Array.isArray(e==null?void 0:e.images)?e.images[0]:void 0)??(Array.isArray(e==null?void 0:e.assets)?e.assets[0]:void 0)??(typeof(e==null?void 0:e.file)=="string"?e.file:void 0)??(typeof(e==null?void 0:e.url)=="string"?e.url:void 0));function Mw(e,t){const n=[],r={Body:0,BodySuit:5,Pants:10,Shoes:15,Clothes:20,Sleeves:25,Bag:30,Necklace:40,Scarf:45,Bowtie:50,Face:55,Hair:60,Hat:70},i=(s,o)=>Number.isFinite((o==null?void 0:o.layer)??(o==null?void 0:o.z))?Number((o==null?void 0:o.layer)??(o==null?void 0:o.z)):r[s]??0;for(const s of Lw){const o=e[s];if(!o)continue;const a=t[o]??t[Dw(o)];n.push({id:o,slot:s,src:Uw(a)??"",name:(a==null?void 0:a.name)??o,z:i(s,a)})}return n.sort((s,o)=>s.z-o.z),n}function Bw(){const{inv:e}=b.useMemo(()=>hs(),[]),[t,n]=b.useState({}),[r,i]=b.useState({}),[s,o]=b.useState(!1);b.useEffect(()=>{(async()=>{try{const[u,c]=await Promise.all([e.load(),is()]),d=Array.isArray(c)?Object.fromEntries(c.map(f=>[f.id,f])):c;n(u.equipped||{}),i(d)}finally{o(!0)}})()},[e]),b.useEffect(()=>Iw(async()=>{const[c,d]=await Promise.all([e.load(),is()]),f=Array.isArray(d)?Object.fromEntries(d.map(m=>[m.id,m])):d;n(c.equipped||{}),i(f)}),[e]);const a=b.useMemo(()=>Object.values(t||{}).some(Boolean),[t]),l=b.useMemo(()=>a?Mw(t,r):[],[a,t,r]);return b.useEffect(()=>{if(!a)return;const u=Array.from(new Set(l.map(c=>c.src).filter(Boolean)));u.length&&Nw(u)},[a,l]),C.jsxs("header",{className:"w-full px-4 py-3 flex items-center gap-3 bg-slate-900/60",children:[C.jsx("div",{className:"shrink-0",children:s&&a?C.jsx(Cw,{layers:l.map(u=>({...u,src:u.src??""})),size:120,corsMode:"none"}):C.jsx("div",{style:{width:120,height:120}})}),C.jsxs("div",{className:"flex-1",children:[C.jsx("div",{className:"text-lg font-semibold",children:"오늘의 던전"}),C.jsx("div",{className:"text-sm opacity-70",children:"내 아바타"})]})]})}function Fw(){return C.jsxs(C.Fragment,{children:[C.jsx(Bw,{}),C.jsxs("div",{className:"p-6 max-w-xl mx-auto",children:[C.jsx("h1",{className:"text-3xl font-bold",children:"오늘의 던전"}),C.jsx("p",{className:"opacity-80 mt-2",children:"퀴즈를 풀고 던전을 클리어하세요."}),C.jsxs("div",{className:"mt-6 grid gap-3 grid-cols-2",children:[C.jsx(pt,{className:"text-center px-4 py-3 bg-emerald-600 rounded",to:"/lobby",children:"로비"}),C.jsx(pt,{className:"text-center px-4 py-3 bg-indigo-600 rounded",to:"/play",children:"전투(퀴즈)"}),C.jsx(pt,{className:"text-center px-4 py-3 bg-slate-700 rounded",to:"/gacha",children:"가챠"}),C.jsx(pt,{className:"text-center px-4 py-3 bg-slate-700 rounded",to:"/inventory",children:"인벤토리"}),C.jsx(pt,{className:"text-center px-4 py-3 bg-slate-700 rounded",to:"/wardrobe",children:"옷장"}),C.jsx(pt,{className:"text-center px-4 py-3 bg-slate-700 rounded",to:"/codex",children:"도감"})]}),C.jsxs("p",{className:"mt-6 text-sm opacity-70",children:["팁: ",C.jsx("code",{children:"?pack=sample"})," 쿼리로 샘플 팩을 불러올 수 있어요."]})]})]})}function zw(){return C.jsxs("div",{className:"p-6 max-w-xl mx-auto",children:[C.jsx("h2",{className:"text-2xl font-bold",children:"로비"}),C.jsx("p",{className:"opacity-80 mt-2",children:"지갑/가챠/공지 등은 여기서 확장합니다."}),C.jsxs("div",{className:"mt-6 flex gap-3",children:[C.jsx(pt,{className:"px-4 py-2 bg-emerald-600 rounded",to:"/play",children:"던전 입장"}),C.jsx(pt,{className:"px-4 py-2 bg-slate-700 rounded",to:"/",children:"메인"})]})]})}const Ww=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>or(async()=>{const{default:r}=await Promise.resolve().then(()=>ti);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class lc extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class cf extends lc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class df extends lc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ff extends lc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Kl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Kl||(Kl={}));var Hw=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Vw{constructor(t,{headers:n={},customFetch:r,region:i=Kl.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Ww(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Hw(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:s,method:o,body:a,signal:l}=r;let u={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${n}`);c&&c!=="any"&&(u["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let f;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(u["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(u["Content-Type"]="application/json",f=JSON.stringify(a)));const m=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:f,signal:l}).catch(g=>{throw g.name==="AbortError"?g:new cf(g)}),v=m.headers.get("x-relay-error");if(v&&v==="true")throw new df(m);if(!m.ok)throw new ff(m);let w=((i=m.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),x;return w==="application/json"?x=yield m.json():w==="application/octet-stream"?x=yield m.blob():w==="text/event-stream"?x=m:w==="multipart/form-data"?x=yield m.formData():x=yield m.text(),{data:x,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new cf(s)}:{data:null,error:s,response:s instanceof ff||s instanceof df?s.context:void 0}}})}}var Ye={},uc={},Zo={},ps={},ea={},ta={},qw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Qr=qw();const Kw=Qr.fetch,ym=Qr.fetch.bind(Qr),wm=Qr.Headers,Jw=Qr.Request,Gw=Qr.Response,ti=Object.freeze(Object.defineProperty({__proto__:null,Headers:wm,Request:Jw,Response:Gw,default:ym,fetch:Kw},Symbol.toStringTag,{value:"Module"})),Qw=vg(ti);var na={};Object.defineProperty(na,"__esModule",{value:!0});let Yw=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};na.default=Yw;var _m=vt&&vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ta,"__esModule",{value:!0});const Xw=_m(Qw),Zw=_m(na);let e_=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Xw.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l,u;let c=null,d=null,f=null,m=s.status,v=s.statusText;if(s.ok){if(this.method!=="HEAD"){const h=await s.text();h===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?d=h:d=JSON.parse(h))}const x=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),g=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,m=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await s.text();try{c=JSON.parse(x),Array.isArray(c)&&s.status===404&&(d=[],c=null,m=200,v="OK")}catch{s.status===404&&x===""?(m=204,v="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,m=200,v="OK"),c&&this.shouldThrowOnError)throw new Zw.default(c)}return{error:c,data:d,count:f,status:m,statusText:v}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};ta.default=e_;var t_=vt&&vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ea,"__esModule",{value:!0});const n_=t_(ta);let r_=class extends n_.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};ea.default=r_;var i_=vt&&vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ps,"__esModule",{value:!0});const s_=i_(ea);let o_=class extends s_.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};ps.default=o_;var a_=vt&&vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zo,"__esModule",{value:!0});const yi=a_(ps);let l_=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(t,n){const{head:r=!1,count:i}=n??{},s=r?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),i&&this.headers.append("Prefer",`count=${i}`),new yi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var i;const s="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new yi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new yi.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new yi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new yi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Zo.default=l_;var Sm=vt&&vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uc,"__esModule",{value:!0});const u_=Sm(Zo),c_=Sm(ps);let d_=class Em{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new u_.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Em(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let u;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",u=n);const c=new Headers(this.headers);return s&&c.set("Prefer",`count=${s}`),new c_.default({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};uc.default=d_;var ni=vt&&vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.PostgrestError=Ye.PostgrestBuilder=Ye.PostgrestTransformBuilder=Ye.PostgrestFilterBuilder=Ye.PostgrestQueryBuilder=Ye.PostgrestClient=void 0;const km=ni(uc);Ye.PostgrestClient=km.default;const xm=ni(Zo);Ye.PostgrestQueryBuilder=xm.default;const Cm=ni(ps);Ye.PostgrestFilterBuilder=Cm.default;const bm=ni(ea);Ye.PostgrestTransformBuilder=bm.default;const Tm=ni(ta);Ye.PostgrestBuilder=Tm.default;const Pm=ni(na);Ye.PostgrestError=Pm.default;var f_=Ye.default={PostgrestClient:km.default,PostgrestQueryBuilder:xm.default,PostgrestFilterBuilder:Cm.default,PostgrestTransformBuilder:bm.default,PostgrestBuilder:Tm.default,PostgrestError:Pm.default};const{PostgrestClient:h_,PostgrestQueryBuilder:tk,PostgrestFilterBuilder:nk,PostgrestTransformBuilder:rk,PostgrestBuilder:ik,PostgrestError:sk}=f_;class p_{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const m_="2.75.0",g_=`realtime-js/${m_}`,v_="1.0.0",Jl=1e4,y_=1e3,w_=100;var Li;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Li||(Li={}));var Pe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pe||(Pe={}));var Tt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Tt||(Tt={}));var Gl;(function(e){e.websocket="websocket"})(Gl||(Gl={}));var Fn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Fn||(Fn={}));class __{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+i));o=o+i;const l=r.decode(t.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class jm{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var le;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(le||(le={}));const hf=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((s,o)=>(s[o]=S_(o,e,t,i),s),{}):{}},S_=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i==null?void 0:i.type,o=n[e];return s&&!r.includes(s)?Rm(s,o):Ql(o)},Rm=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return C_(t,n)}switch(e){case le.bool:return E_(t);case le.float4:case le.float8:case le.int2:case le.int4:case le.int8:case le.numeric:case le.oid:return k_(t);case le.json:case le.jsonb:return x_(t);case le.timestamp:return b_(t);case le.abstime:case le.date:case le.daterange:case le.int4range:case le.int8range:case le.money:case le.reltime:case le.text:case le.time:case le.timestamptz:case le.timetz:case le.tsrange:case le.tstzrange:return Ql(t);default:return Ql(t)}},Ql=e=>e,E_=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},k_=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},x_=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},C_=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>Rm(t,a))}return e},b_=e=>typeof e=="string"?e.replace(" ","T"):e,Om=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Ma{constructor(t,n,r={},i=Jl){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(pf||(pf={}));class Di{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Di.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Di.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Di.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=s[u];if(d){const f=c.map(x=>x.presence_ref),m=d.map(x=>x.presence_ref),v=c.filter(x=>m.indexOf(x.presence_ref)<0),w=d.filter(x=>f.indexOf(x.presence_ref)<0);v.length>0&&(a[u]=v),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const d=t[a].map(m=>m.presence_ref),f=c.filter(m=>d.indexOf(m.presence_ref)<0);t[a].unshift(...f)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[a]=u,i(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mf;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(mf||(mf={}));var $i;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})($i||($i={}));var Ht;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ht||(Ht={}));class cc{constructor(t,n={config:{}},r){var i,s;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ma(this,Tt.join,this.params,this.timeout),this.rejoinTimer=new jm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Di(this),this.broadcastEndpointURL=Om(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Pe.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[$i.PRESENCE]&&this.bindings[$i.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Ht.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Ht.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket.setAuth(),m===void 0){t==null||t(Ht.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,g=[];for(let h=0;h<x;h++){const p=w[h],{filter:{event:E,schema:j,table:R,filter:y}}=p,S=m&&m[h];if(S&&S.event===E&&S.schema===j&&S.table===R&&S.filter===y)g.push(Object.assign(Object.assign({},p),{id:S.id}));else{this.unsubscribe(),this.state=Pe.errored,t==null||t(Ht.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Ht.SUBSCRIBED);return}}).receive("error",m=>{this.state=Pe.errored,t==null||t(Ht.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ht.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Pe.joined&&t===$i.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Ma(this,Tt.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pe.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ma(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>w_){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Tt;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var v,w,x;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(w=m.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(f,r)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var v,w,x,g,h,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const E=m.id,j=(v=m.filter)===null||v===void 0?void 0:v.event;return E&&((w=n.ids)===null||w===void 0?void 0:w.includes(E))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const E=(h=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return E==="*"||E===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:w,table:x,commit_timestamp:g,type:h,errors:p}=v;f=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:g,eventType:h,new:{},old:{},errors:p}),this._getPayloadRecords(v))}m.callback(f,r)})}_isClosed(){return this.state===Pe.closed}_isJoined(){return this.state===Pe.joined}_isJoining(){return this.state===Pe.joining}_isLeaving(){return this.state===Pe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&cc.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Tt.close,{},t)}_onError(t){this._on(Tt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=hf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=hf(t.columns,t.old_record)),n}}const Ba=()=>{},Fs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},T_=[1e3,2e3,5e3,1e4],P_=1e4,j_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class R_{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jl,this.transport=null,this.heartbeatIntervalMs=Fs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ba,this.ref=0,this.reconnectTimer=null,this.logger=Ba,this.conn=null,this.sendBuffer=[],this.serializer=new __,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>or(async()=>{const{default:a}=await Promise.resolve().then(()=>ti);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Gl.websocket}`,this.httpEndpoint=Om(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=p_.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:v_}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Li.connecting:return Fn.Connecting;case Li.open:return Fn.Open;case Li.closing:return Fn.Closing;default:return Fn.Closed}}isConnected(){return this.connectionState()===Fn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new cc(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(y_,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Fs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:o}=n,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Tt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([j_],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:g_};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Tt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new jm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,s,o,a,l,u,c;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Jl,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Fs.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Ba,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:d=>T_[d-1]||P_,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(d,f)=>f(JSON.stringify(d)),this.decode=(c=t==null?void 0:t.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class dc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function be(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class O_ extends dc{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Yl extends dc{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var A_=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Am=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>or(async()=>{const{default:r}=await Promise.resolve().then(()=>ti);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},I_=()=>A_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield or(()=>Promise.resolve().then(()=>ti),void 0)).Response:Response}),Xl=e=>{if(Array.isArray(e))return e.map(n=>Xl(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Xl(r)}),t},N_=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ar=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Fa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),L_=(e,t,n)=>ar(void 0,void 0,void 0,function*(){const r=yield I_();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,o=(i==null?void 0:i.statusCode)||s+"";t(new O_(Fa(i),s,o))}).catch(i=>{t(new Yl(Fa(i),i))}):t(new Yl(Fa(e),e))}),D_=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(N_(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function ms(e,t,n,r,i,s){return ar(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,D_(t,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>L_(l,a,r))})})}function Oo(e,t,n,r){return ar(this,void 0,void 0,function*(){return ms(e,"GET",t,n,r)})}function $t(e,t,n,r,i){return ar(this,void 0,void 0,function*(){return ms(e,"POST",t,r,i,n)})}function Zl(e,t,n,r,i){return ar(this,void 0,void 0,function*(){return ms(e,"PUT",t,r,i,n)})}function $_(e,t,n,r){return ar(this,void 0,void 0,function*(){return ms(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Im(e,t,n,r,i){return ar(this,void 0,void 0,function*(){return ms(e,"DELETE",t,r,i,n)})}var U_=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class M_{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return U_(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(be(t))return{data:null,error:t};throw t}})}}var B_=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class F_{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new M_(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return B_(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(be(t))return{data:null,error:t};throw t}})}}var Je=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const z_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class W_{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=Am(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Je(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},gf),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield(t=="PUT"?Zl:$t)(this.fetch,`${this.url}/object/${c}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(be(s))return{data:null,error:s};throw s}})}upload(t,n,r){return Je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Je(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:gf.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield Zl(this.fetch,a.toString(),l,{headers:c});return{data:{path:s,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(be(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Je(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield $t(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new dc("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}update(t,n,r){return Je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Je(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(be(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Je(this,void 0,void 0,function*(){try{return{data:{path:(yield $t(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(be(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Je(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield $t(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(be(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Je(this,void 0,void 0,function*(){try{const i=yield $t(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(be(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"",a=this._getFinalPath(t),l=()=>Oo(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new F_(l,this.shouldThrowOnError)}info(t){return Je(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Oo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Xl(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}exists(t){return Je(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield $_(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r)&&r instanceof Yl){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Je(this,void 0,void 0,function*(){try{return{data:yield Im(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(be(n))return{data:null,error:n};throw n}})}list(t,n,r){return Je(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},z_),n),{prefix:t||""});return{data:yield $t(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(be(i))return{data:null,error:i};throw i}})}listV2(t,n){return Je(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield $t(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const H_="2.75.0",V_={"X-Client-Info":`storage-js/${H_}`};var pr=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class q_{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},V_),n),this.fetch=Am(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return pr(this,void 0,void 0,function*(){try{return{data:yield Oo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(be(t))return{data:null,error:t};throw t}})}getBucket(t){return pr(this,void 0,void 0,function*(){try{return{data:yield Oo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(be(n))return{data:null,error:n};throw n}})}createBucket(t){return pr(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield $t(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(be(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return pr(this,void 0,void 0,function*(){try{return{data:yield Zl(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}emptyBucket(t){return pr(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(be(n))return{data:null,error:n};throw n}})}deleteBucket(t){return pr(this,void 0,void 0,function*(){try{return{data:yield Im(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(be(n))return{data:null,error:n};throw n}})}}class K_ extends q_{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new W_(this.url,this.headers,t,this.fetch)}}const J_="2.75.0";let Ci="";typeof Deno<"u"?Ci="deno":typeof document<"u"?Ci="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ci="react-native":Ci="node";const G_={"X-Client-Info":`supabase-js-${Ci}/${J_}`},Q_={headers:G_},Y_={schema:"public"},X_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Z_={};var eS=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const tS=e=>{let t;return e?t=e:typeof fetch>"u"?t=ym:t=fetch,(...n)=>t(...n)},nS=()=>typeof Headers>"u"?wm:Headers,rS=(e,t,n)=>{const r=tS(n),i=nS();return(s,o)=>eS(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})};var iS=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function sS(e){return e.endsWith("/")?e:e+"/"}function oS(e,t){var n,r;const{db:i,auth:s,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:d}=t,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>iS(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function aS(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(sS(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Nm="2.75.0",_r=30*1e3,eu=3,za=eu*_r,lS="http://localhost:9999",uS="supabase.auth.token",cS={"X-Client-Info":`gotrue-js/${Nm}`},tu="X-Supabase-Api-Version",Lm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,fS=10*60*1e3;class ss extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function W(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class hS extends ss{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function pS(e){return W(e)&&e.name==="AuthApiError"}class zn extends ss{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Rn extends ss{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class an extends Rn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function mS(e){return W(e)&&e.name==="AuthSessionMissingError"}class mr extends Rn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zs extends Rn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ws extends Rn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function gS(e){return W(e)&&e.name==="AuthImplicitGrantRedirectError"}class vf extends Rn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nu extends Rn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Wa(e){return W(e)&&e.name==="AuthRetryableFetchError"}class yf extends Rn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ru extends Rn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ao="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wf=` 	
\r=`.split(""),vS=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<wf.length;t+=1)e[wf[t].charCodeAt(0)]=-2;for(let t=0;t<Ao.length;t+=1)e[Ao[t].charCodeAt(0)]=t;return e})();function _f(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ao[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ao[r]),t.queuedBits-=6}}function Dm(e,t,n){const r=vS[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Sf(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{_S(o,r,n)};for(let o=0;o<e.length;o+=1)Dm(e.charCodeAt(o),i,s);return t.join("")}function yS(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function wS(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}yS(r,t)}}function _S(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Fr(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Dm(e.charCodeAt(i),n,r);return new Uint8Array(t)}function SS(e){const t=[];return wS(e,n=>t.push(n)),new Uint8Array(t)}function Kn(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>_f(i,n,r)),_f(null,n,r),t.join("")}function ES(e){return Math.round(Date.now()/1e3)+e}function kS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const rt=()=>typeof window<"u"&&typeof document<"u",Nn={tested:!1,writable:!1},$m=()=>{if(!rt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nn.tested)return Nn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Nn.tested=!0,Nn.writable=!0}catch{Nn.tested=!0,Nn.writable=!1}return Nn.writable};function xS(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const Um=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>or(async()=>{const{default:r}=await Promise.resolve().then(()=>ti);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},CS=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Sr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ln=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},sn=async(e,t)=>{await e.removeItem(t)};class ra{constructor(){this.promise=new ra.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ra.promiseConstructor=Promise;function Ha(e){const t=e.split(".");if(t.length!==3)throw new ru("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!dS.test(t[r]))throw new ru("JWT not in base64url format");return{header:JSON.parse(Sf(t[0])),payload:JSON.parse(Sf(t[1])),signature:Fr(t[2]),raw:{header:t[0],payload:t[1]}}}async function bS(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function TS(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function PS(e){return("0"+e.toString(16)).substr(-2)}function jS(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,PS).join("")}async function RS(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function OS(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await RS(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gr(e,t,n=!1){const r=jS();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Sr(e,`${t}-code-verifier`,i);const s=await OS(r);return[s,r===s?"plain":"s256"]}const AS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function IS(e){const t=e.headers.get(tu);if(!t||!t.match(AS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function NS(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function LS(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const DS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vr(e){if(!DS.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Va(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ef(e){return JSON.parse(JSON.stringify(e))}var $S=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Un=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),US=[502,503,504];async function kf(e){var t;if(!CS(e))throw new nu(Un(e),0);if(US.includes(e.status))throw new nu(Un(e),e.status);let n;try{n=await e.json()}catch(s){throw new zn(Un(s),s)}let r;const i=IS(e);if(i&&i.getTime()>=Lm["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new yf(Un(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new an}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new yf(Un(n),e.status,n.weak_password.reasons);throw new hS(Un(n),e.status||500,r)}const MS=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function J(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[tu]||(s[tu]=Lm["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await BS(e,t,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function BS(e,t,n,r,i,s){const o=MS(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new nu(Un(l),0)}if(a.ok||await kf(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await kf(l)}}function kt(e){var t;let n=null;WS(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=ES(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function xf(e){const t=kt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function fn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function FS(e){return{data:e,error:null}}function zS(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=$S(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Cf(e){return e}function WS(e){return e.access_token&&e.refresh_token&&e.expires_in}const qa=["global","local","others"];var HS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class VS{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Um(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=qa[0]){if(qa.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qa.join(", ")}`);try{return await J(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await J(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:fn})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=HS(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await J(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:zS,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(W(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await J(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fn})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await J(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Cf});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(W(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){vr(t);try{return await J(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fn})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){vr(t);try{return await J(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:fn})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){vr(t);try{return await J(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:fn})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){vr(t.userId);try{const{data:n,error:r}=await J(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(W(n))return{data:null,error:n};throw n}}async _deleteFactor(t){vr(t.userId),vr(t.id);try{return{data:await J(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await J(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Cf});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(W(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await J(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(W(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await J(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(W(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await J(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(W(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await J(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(W(n))return{data:null,error:n};throw n}}}function bf(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const yr={debug:!!(globalThis&&$m()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Mm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class qS extends Mm{}async function KS(e,t,n){yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),yr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new qS(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(yr.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function JS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Bm(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function GS(e){return parseInt(e,16)}function QS(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function YS(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=Bm(e.address),v=c?`${c}://${r}`:r,w=e.statement?`${e.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${m}

${w}`;let g=`URI: ${d}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(g+=`
Expiration Time: ${i.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let h=`
Resources:`;for(const p of u){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);h+=`
- ${p}`}g+=h}return`${x}
${g}`}class Ce extends Error{constructor({message:t,code:n,cause:r,name:i}){var s;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Io extends Ce{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function XS({error:e,options:t}){var n,r,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ce({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ce({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ce({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ce({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ce({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ce({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Ce({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ce({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(zm(o)){if(s.rp.id!==o)return new Ce({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ce({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Ce({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ce({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ce({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function ZS({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ce({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ce({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(zm(r)){if(n.rpId!==r)return new Ce({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ce({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ce({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ce({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Fm=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class eE{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const tE=new eE;function nE(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=Fm(e,["challenge","user","excludeCredentials"]),s=Fr(t).buffer,o=Object.assign(Object.assign({},n),{id:Fr(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Fr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function rE(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Fm(e,["challenge","allowCredentials"]),i=Fr(t).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Fr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function iE(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Kn(new Uint8Array(e.response.attestationObject)),clientDataJSON:Kn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function sE(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Kn(new Uint8Array(i.authenticatorData)),clientDataJSON:Kn(new Uint8Array(i.clientDataJSON)),signature:Kn(new Uint8Array(i.signature)),userHandle:i.userHandle?Kn(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function zm(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Tf(){var e,t;return!!(rt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function oE(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Io("Browser returned unexpected credential type",t)}:{data:null,error:new Io("Empty credential response",t)}}catch(t){return{data:null,error:XS({error:t,options:e})}}}async function aE(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Io("Browser returned unexpected credential type",t)}:{data:null,error:new Io("Empty credential response",t)}}catch(t){return{data:null,error:ZS({error:t,options:e})}}}const lE={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},uE={userVerification:"preferred",hints:["security-key"]};function No(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))r[s]=o;else if(n(o))r[s]=o;else if(t(o)){const a=r[s];t(a)?r[s]=No(a,o):r[s]=No(o)}else r[s]=o}return r}function cE(e,t){return No(lE,e,t||{})}function dE(e,t){return No(uE,e,t||{})}class fE{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},s){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:a};const l=i??tE.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=cE(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:c,error:d}=await oE({publicKey:u,signal:l});return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=dE(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:c,error:d}=await aE(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(o){return W(o)?{data:null,error:o}:{data:null,error:new zn("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!n)return{data:null,error:new ss("rpId is required for WebAuthn authentication")};try{if(!Tf())return{data:null,error:new zn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return W(o)?{data:null,error:o}:{data:null,error:new zn("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!n)return{data:null,error:new ss("rpId is required for WebAuthn registration")};try{if(!Tf())return{data:null,error:new zn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return W(o)?{data:null,error:o}:{data:null,error:new zn("Unexpected error in register",o)}}}}JS();const hE={url:lS,storageKey:uS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pf(e,t,n){return await n()}const wr={};class os{get jwks(){var t,n;return(n=(t=wr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){wr[this.storageKey]=Object.assign(Object.assign({},wr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=wr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){wr[this.storageKey]=Object.assign(Object.assign({},wr[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=os.nextInstanceID,os.nextInstanceID+=1,this.instanceID>0&&rt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},hE),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new VS({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Um(i.fetch),this.lock=i.lock||Pf,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:rt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=KS:this.lock=Pf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new fE(this)},this.persistSession?(i.storage?this.storage=i.storage:$m()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bf(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=bf(this.memoryStorage)),rt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Nm}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=xS(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),rt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),gS(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return W(n)?{error:n}:{error:new zn("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:kt}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:c,password:d,options:f}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await gr(this.storage,this.storageKey)),s=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:v},xform:kt})}else if("phone"in t){const{phone:c,password:d,options:f}=t;s=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:kt})}else throw new zs("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xf})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xf})}else throw new zs("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new mr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(W(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,s,o,a,l,u,c,d,f;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:w,wallet:x,statement:g,options:h}=t;let p;if(rt())if(typeof x=="object")p=x;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")p=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=x}const E=new URL((n=h==null?void 0:h.url)!==null&&n!==void 0?n:window.location.href),j=await p.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=Bm(j[0]);let y=(r=h==null?void 0:h.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!y){const P=await p.request({method:"eth_chainId"});y=GS(P)}const S={domain:E.host,address:R,statement:g,uri:E.href,version:"1",chainId:y,nonce:(i=h==null?void 0:h.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=h==null?void 0:h.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=h==null?void 0:h.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=h==null?void 0:h.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=h==null?void 0:h.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=h==null?void 0:h.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=YS(S),v=await p.request({method:"personal_sign",params:[QS(m),R]})}try{const{data:w,error:x}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:kt});if(x)throw x;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new mr}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:x})}catch(w){if(W(w))return{data:{user:null,session:null},error:w};throw w}}async signInWithSolana(t){var n,r,i,s,o,a,l,u,c,d,f,m;let v,w;if("message"in t)v=t.message,w=t.signature;else{const{chain:x,wallet:g,statement:h,options:p}=t;let E;if(rt())if(typeof g=="object")E=g;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))E=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=g}const j=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const R=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),h?{statement:h}:null));let y;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")y=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)y=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in y&&"signature"in y&&(typeof y.signedMessage=="string"||y.signedMessage instanceof Uint8Array)&&y.signature instanceof Uint8Array)v=typeof y.signedMessage=="string"?y.signedMessage:new TextDecoder().decode(y.signedMessage),w=y.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${j.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=p==null?void 0:p.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((d=(c=p==null?void 0:p.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...p.signInWithSolana.resources.map(y=>`- ${y}`)]:[]].join(`
`);const R=await E.signMessage(new TextEncoder().encode(v),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=R}}try{const{data:x,error:g}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Kn(w)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:kt});if(g)throw g;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new mr}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:g})}catch(x){if(W(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const n=await Ln(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await J(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:kt});if(await sn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new mr}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(W(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:kt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new mr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(W(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await gr(this.storage,this.storageKey));const{error:d}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new zs("You must provide either an email or phone number.")}catch(a){if(W(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await J(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:kt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(W(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await gr(this.storage,this.storageKey)),await J(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:FS})}catch(s){if(W(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new an;const{error:i}=await J(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(W(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await J(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await J(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new zs("You must provide either an email or phone number and a type")}catch(n){if(W(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ln(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<za:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Ln(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Va()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:fn}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new an}:await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:fn})})}catch(n){if(W(n))return mS(n)&&(await this._removeSession(),await sn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new an;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await gr(this.storage,this.storageKey));const{data:u,error:c}=await J(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:fn});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new an;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=Ha(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(W(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new an;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(W(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!rt())throw new Ws("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ws(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new vf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ws("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new vf("No code detected.");const{data:h,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!s||!a||!o||!u)throw new Ws("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let f=c+d;l&&(f=parseInt(l));const m=f-c;m*1e3<=_r&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const v=f-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,c);const{data:w,error:x}=await this._getUser(s);if(x)throw x;const g={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:f,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(r){if(W(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ln(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(pS(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await sn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=kS(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await gr(this.storage,this.storageKey,!0));try{return await J(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(W(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,u,c;const{data:d,error:f}=s;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return rt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(W(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:o,provider:a,token:l,access_token:u,nonce:c}=t,d=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:kt}),{data:f,error:m}=d;return m?{data:{user:null,session:null},error:m}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new mr}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:m})}catch(i){if(W(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await J(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(W(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await TS(async i=>(i>0&&await bS(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await J(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:kt})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Wa(s)&&Date.now()+o-r<_r})}catch(r){if(this._debug(n,"error",r),W(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),rt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ln(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Ln(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Sr(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Va()}else if(i&&!i.user&&!i.user){const o=await Ln(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await sn(this.storage,this.storageKey+"-user"),await Sr(this.storage,this.storageKey,i)):i.user=Va()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<za;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${za}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Wa(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new an;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ra;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new an;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),W(s)){const o={data:null,error:s};return Wa(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Sr(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=Ef(i);await Sr(this.storage,this.storageKey,s)}else{const i=Ef(n);await Sr(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await sn(this.storage,this.storageKey),await sn(this.storage,this.storageKey+"-code-verifier"),await sn(this.storage,this.storageKey+"-user"),this.userStorage&&await sn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&rt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),_r);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/_r);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${_r}ms, refresh threshold is ${eu} ticks`),i<=eu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Mm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await gr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await J(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(W(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await J(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(W(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?iE(t.webauthn.credential_response):sE(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(W(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const o=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:nE(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:rE(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(W(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ha(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+fS>i)return r;const{data:s,error:o}=await J(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};r=m.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=Ha(r);n!=null&&n.allowExpired||NS(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:s,header:i,signature:o},error:null}}const c=LS(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,SS(`${a}.${l}`)))throw new ru("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}}os.nextInstanceID=0;const pE=os;class mE extends pE{constructor(t){super(t)}}var gE=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class vE{constructor(t,n,r){var i,s,o;this.supabaseUrl=t,this.supabaseKey=n;const a=aS(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:Y_,realtime:Z_,auth:Object.assign(Object.assign({},X_),{storageKey:l}),global:Q_},c=oS(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=rS(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new h_(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new K_(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Vw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return gE(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:o,flowType:a,lock:l,debug:u},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mE({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,flowType:a,lock:l,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new R_(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Wm=(e,t,n)=>new vE(e,t,n);function yE(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}yE()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let Ka=null;const iu="https://zfrsmcmyjpjyqrvgjuyl.supabase.co".trim(),Hm="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpmcnNtY215anBqeXFydmdqdXlsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA0NjE5NjIsImV4cCI6MjA3NjAzNzk2Mn0.qTChPuTQJXlPabUgx18FMQJgTvwDAYLHTLajTU527kA".trim(),Vm=!!iu&&/^https?:\/\//i.test(iu)&&!!Hm;function ia(){if(!Vm)throw new Error("[env] Supabase not configured");return Ka||(Ka=Wm(iu,Hm)),Ka}async function wE(e="web-student"){const{data:t,error:n}=await ia().rpc("auth_login",{nickname:e});if(n)throw n;return t}async function _E(){const e="qd:userId";let t=localStorage.getItem(e);return t||(t=await wE(),localStorage.setItem(e,t)),t}async function fc(){const{data:e,error:t}=await ia().rpc("enter_dungeon");if(t)throw t;return e}async function qm(){const e="qd:runToken";let t=localStorage.getItem(e);return t||(t=await fc(),localStorage.setItem(e,t)),t}async function Ja(e){const{data:t,error:n}=await ia().rpc("finish_dungeon",{p_run_id:e.runToken,p_user_id:await _E(),p_run_token:e.runToken,p_final_hash:e.finalHash,p_turns:e.turns,p_duration:e.durationSec,p_cleared:e.cleared});if(n)throw n;return t}async function Km(){const e=await fc();return localStorage.setItem("qd:runToken",e),e}function jf(){localStorage.removeItem("qd:lastResult")}async function Rf(e){if(!Vm)throw new Error("서버 설정 누락");const{data:t,error:n}=await ia().rpc("guest_login",{p_token:e});if(n)throw n;const r=t;return localStorage.setItem("qd:userId",r),r}function SE(){return new URLSearchParams(location.search).get("pack")||"sample"}function Ga(e,t,n){if(typeof e=="string"&&/^[ABCD]$/.test(e))return e;if(typeof t=="string"&&/^[ABCD]$/.test(t))return t;const r=typeof n=="number"?n:typeof t=="number"?t:typeof e=="number"?e:-1;return r>=0&&r<=3?["A","B","C","D"][r]:null}function EE(e,t){if(!e)return null;if(e.stem&&Array.isArray(e.choices)){const r=e.choices.slice(0,4).map((s,o)=>({key:["A","B","C","D"][o],text:typeof s=="string"?s:(s==null?void 0:s.text)??String(s)})),i=Ga(e.answerKey,e.answer,e.correctIndex);return i?{id:String(e.id??t),stem:String(e.stem),choices:r,answerKey:i,explanation:e.explanation}:null}if(e.stem&&Array.isArray(e.options)){const n=e.options.slice(0,4).map((i,s)=>({key:["A","B","C","D"][s],text:typeof i=="string"?i:(i==null?void 0:i.text)??String(i)})),r=Ga(e.answerKey,e.answer,e.correctIndex);return r?{id:String(e.id??t),stem:String(e.stem),choices:n,answerKey:r}:null}if(e.stem&&(e.A||e.B||e.C||e.D)){const r=["A","B","C","D"].filter(s=>e[s]!=null).map(s=>({key:s,text:String(e[s])})),i=Ga(e.answerKey,e.answer,e.correctIndex);return i?{id:String(e.id??t),stem:String(e.stem),choices:r,answerKey:i}:null}return null}function kE(){const e=SE(),t=ac(),[n,r]=b.useState(!0),[i,s]=b.useState("로딩 중…"),[o,a]=b.useState([]),[l,u]=b.useState(0),c=o[l]||null,d=b.useRef([]),f=b.useRef(!1),m=b.useRef(0),v=b.useRef(null);b.useEffect(()=>{f.current||(f.current=!0,(async()=>{var h,p;try{const j=new URLSearchParams(location.search).get("t");j&&typeof Rf=="function"&&await Rf(j);const R=qm||Km||fc;typeof R=="function"&&await R();try{const y=await or(()=>import("./proof-PtDRYho1.js"),[]),S=(y==null?void 0:y.Proof)??(y==null?void 0:y.default),P=localStorage.getItem("qd:runToken");v.current=P?new S(P):new S,await((p=(h=v.current)==null?void 0:h.log)==null?void 0:p.call(h,{type:"session_start",pack:e}))}catch{}d.current=[],m.current=Date.now(),s("준비 완료!")}catch(E){console.warn("Play init failed",E),s((E==null?void 0:E.message)??"접속 권한이 없거나 만료되었습니다.")}finally{r(!1)}})())},[e]),b.useEffect(()=>{const h=new AbortController;return(async()=>{var p;try{r(!0);const E=new URL(`packs/${e}.json`,location.origin).toString(),j=await fetch(E,{cache:"no-store",signal:h.signal});let R=[];j.ok?R=await j.json():R=[{id:"sample-1",stem:"샘플 문항입니다. A를 선택하세요.",choices:["A","B","C","D"],answerKey:"A"}];const y=Array.isArray(R)?R:(R==null?void 0:R.questions)??(R==null?void 0:R.items)??((p=R==null?void 0:R.data)==null?void 0:p.questions)??[],S=[],P=[];y.forEach((O,F)=>{const K=EE(O,F);K&&K.stem&&Array.isArray(K.choices)&&K.choices.length>=2?S.push(K):P.push({i:F,raw:O})}),a(S),u(0),P.length&&console.warn(`[PACK:${e}] 무시된 비정상 문항 ${P.length}개`,P.slice(0,5))}catch(E){h.signal.aborted||(console.warn("pack load failed",E),a([]),s("팩 로딩 실패"))}finally{h.signal.aborted||r(!1)}})(),()=>h.abort()},[e]),b.useEffect(()=>{var h,p,E;c&&((h=v.current)!=null&&h.log)&&((E=(p=v.current.log({type:"q_shown",id:c.id,idx:l})).catch)==null||E.call(p,()=>{}))},[c,l]);async function w(h){var j,R,y,S;if(!c)return;const p=c.answerKey===h;try{await((R=(j=v.current)==null?void 0:j.log)==null?void 0:R.call(j,{type:"answer",id:c.id,pick:h,correct:p}))}catch{}if(d.current.push({id:c.id,pick:h,correct:p}),!(l>=o.length-1)){u(P=>P+1),s(p?"정답! 다음 문제로…":"오답 💦 다음 문제로…");return}s(p?"정답! 결과 정리 중…":"오답 💦 결과 정리 중…");try{const P=d.current,O=Math.max(1,o.length),F=P.filter(he=>he.correct).length,K=Math.max(1,Math.round((Date.now()-(m.current||Date.now()))/1e3)),ie={cleared:F>=Math.ceil(O*.6),turns:O,durationSec:K};localStorage.setItem("qd:lastResult",JSON.stringify(ie)),localStorage.setItem("qd:lastPack",e),localStorage.setItem("qd:lastTurns",JSON.stringify(P));try{await((S=(y=v.current)==null?void 0:y.summary)==null?void 0:S.call(y,p))}catch{}}finally{t("/result")}}if(b.useEffect(()=>{const h=p=>{const E=p.key.toUpperCase();(E==="A"||E==="B"||E==="C"||E==="D")&&w(E)};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[c]),n)return C.jsx("div",{className:"p-6",children:"로딩…"});if(!c)return C.jsxs("div",{className:"p-6",children:["문항이 없습니다. ",C.jsx("span",{className:"text-rose-400 ml-2",children:i})]});const x=Math.max(1,o.length),g=Math.round((Math.min(l,x-1)+1)/x*100);return C.jsxs("div",{className:"p-6 max-w-xl mx-auto space-y-4",children:[C.jsx("div",{className:"h-2 bg-slate-800 rounded overflow-hidden",children:C.jsx("div",{className:"h-full bg-emerald-500",style:{width:`${g}%`}})}),C.jsxs("div",{className:"text-sm opacity-80",children:[l+1," / ",x]}),C.jsx("h2",{className:"text-xl font-bold",children:"전투(퀴즈)"}),C.jsxs("div",{className:"p-4 rounded bg-slate-800",children:[C.jsx("div",{className:"font-medium whitespace-pre-wrap",children:c.stem}),C.jsxs("div",{className:"grid gap-2 mt-3",children:[((c==null?void 0:c.choices)??[]).map(h=>C.jsxs("button",{className:"text-left px-3 py-2 rounded bg-slate-700 hover:bg-slate-600 transition",onClick:()=>w(h.key),children:[C.jsxs("span",{className:"font-bold mr-2",children:[h.key,"."]}),h.text]},h.key)),(!(c!=null&&c.choices)||c.choices.length===0)&&C.jsx("div",{className:"text-sm text-rose-300",children:"이 문항의 선택지 형식이 올바르지 않습니다."})]})]}),C.jsx("div",{className:"text-emerald-400",children:i})]})}const Jm="qd:finishQueue";function Gm(){try{return JSON.parse(localStorage.getItem(Jm)||"[]")}catch{return[]}}function Qm(e){localStorage.setItem(Jm,JSON.stringify(e))}function su(){return Date.now()}function xE(e){return Math.min(3e4,[1e3,3e3,7e3,15e3][e]??3e4)}function Of(e){const t=Gm();t.push({id:crypto.randomUUID(),summary:e,retries:0,nextAt:su()}),Qm(t)}function CE(e){async function t(){const n=Gm(),r=[];for(const i of n){if(i.nextAt>su()){r.push(i);continue}try{await e(i.summary)}catch{i.retries+=1,i.nextAt=su()+xE(i.retries),r.push(i)}}Qm(r)}window.addEventListener("online",t),setInterval(t,5e3),t().catch(()=>{})}function bE(){const e=ac();b.useEffect(()=>{CE(Ja)},[]);async function t(){await Km(),jf(),e("/play",{replace:!0})}function n(){jf(),e("/",{replace:!0})}const r=localStorage.getItem("qd:lastResult"),i=b.useMemo(()=>r?JSON.parse(r):null,[r]),s=b.useMemo(()=>{if(!i)return null;if(Array.isArray(i)){const w=i,x=w.length||0,h=w.filter(E=>E==null?void 0:E.correct).length>=Math.ceil(Math.max(1,x)*.6),p=Number(localStorage.getItem("qd:lastDurationSec")||"0")||0;return{cleared:h,turns:x,durationSec:p}}const{cleared:f,turns:m,durationSec:v}=i;return typeof m=="number"?{cleared:!!f,turns:Math.max(0,m|0),durationSec:Math.max(0,Number(v)||0)}:null},[i]),[o,a]=b.useState(null),[l,u]=b.useState(!1);async function c(){if(!s||l)return;u(!0);let f;try{f=await qm()}catch(v){console.error("enter_dungeon failed",v),u(!1),alert("던전 입장 토큰 발급 실패: 서버 연결을 확인해주세요.");return}const m={...s,runToken:f,finalHash:""};try{const v=await Ja(m);a(v)}catch(v){Of(m),console.error("finish_dungeon failed",v),alert("오프라인/오류: 네트워크 복구 시 자동 재시도합니다.")}finally{setTimeout(()=>u(!1),1200)}}async function d(){if(!s||l)return;const f=localStorage.getItem("qd:runToken");if(!f){alert('runToken이 없어 재제출을 할 수 없어요. 먼저 "제출"을 한 번 눌러주세요.');return}u(!0);const m={...s,runToken:f,finalHash:""};try{const v=await Ja(m);a(v)}catch(v){Of(m),console.error("resubmit failed",v),alert("오프라인/오류: 네트워크 복구 시 자동 재시도합니다.")}finally{setTimeout(()=>u(!1),800)}}return s?C.jsxs("div",{className:"p-6 max-w-xl mx-auto space-y-4",children:[C.jsx("h2",{className:"text-2xl font-bold",children:"결과"}),C.jsxs("div",{className:"p-4 bg-slate-800 rounded space-y-2",children:[C.jsxs("div",{children:["클리어: ",s.cleared?"성공":"실패"]}),C.jsxs("div",{children:["턴 수: ",s.turns]}),C.jsxs("div",{children:["소요 시간(초): ",s.durationSec]}),C.jsxs("div",{className:"pt-2 flex gap-2",children:[C.jsx("button",{disabled:l,onClick:c,className:`px-3 py-2 rounded ${l?"opacity-50 cursor-not-allowed bg-slate-600":"bg-emerald-600 hover:bg-emerald-500"}`,children:l?"처리 중…":"제출"}),C.jsx("button",{disabled:l,onClick:d,className:"px-3 py-2 rounded bg-slate-700 hover:bg-slate-600",children:"재제출 테스트"})]}),o&&C.jsxs("div",{className:`mt-2 inline-flex items-center gap-2 px-2 py-1 rounded text-sm ${o.idempotent?"bg-slate-700":"bg-emerald-700"}`,children:[C.jsx("span",{className:"font-semibold",children:o.idempotent?"이미 제출됨(멱등 처리)":"제출 완료"}),C.jsxs("span",{className:"opacity-80",children:["idempotent=",C.jsx("b",{children:String(o.idempotent)})]})]})]}),C.jsxs("div",{className:"mt-6 flex gap-3",children:[C.jsx("button",{className:"px-4 py-2 bg-emerald-600 rounded",onClick:t,children:"다시하기"}),C.jsx("button",{className:"px-4 py-2 bg-slate-700 rounded",onClick:n,children:"메인"})]})]}):C.jsx("div",{className:"p-6",children:"기록이 없어요."})}async function Ym(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(r=>r.toString(16).padStart(2,"0")).join("")}async function Xm(e){const t=await fetch(e,{cache:"no-store"});if(!t.ok)throw new Error(`load failed: ${e}`);const n=await t.text();return{data:JSON.parse(n),raw:n}}async function TE(e="/packs/cosmetics_v1.json"){const{data:t,raw:n}=await Xm(e);if(t.hash&&await Ym(n)!==t.hash)throw new Error("cosmetics pack integrity failed");return t}async function PE(e="/packs/gacha_basic.json"){const{data:t,raw:n}=await Xm(e);if(t.hash&&await Ym(n)!==t.hash)throw new Error("gacha pack integrity failed");return{id:t.poolId,cost:t.cost,entries:t.entries}}function jE(e="gacha"){try{const t=globalThis.crypto;if(t!=null&&t.randomUUID)return`${e}:${t.randomUUID()}`;const n=new Uint8Array(16);if(t!=null&&t.getRandomValues){t.getRandomValues(n);const r=Array.from(n,i=>i.toString(16).padStart(2,"0")).join("");return`${e}:${Date.now().toString(36)}:${r}`}}catch{}return`${e}:${Date.now().toString(36)}:${Math.random().toString(36).slice(2)}`}const Af="/".replace(/\/$/,""),RE=e=>{if(e)return/^https?:\/\//i.test(e)?e:e.startsWith("/")?`${Af}${e}`:`${Af}/${e}`},OE=e=>RE((e==null?void 0:e.src)??(e==null?void 0:e.image)??(e==null?void 0:e.img)??(e==null?void 0:e.renderSrc)??(e==null?void 0:e.render)??(e==null?void 0:e.thumbnail)??(e==null?void 0:e.thumb)??(Array.isArray(e==null?void 0:e.images)?e.images[0]:void 0)??(Array.isArray(e==null?void 0:e.assets)?e.assets[0]:void 0)??(typeof(e==null?void 0:e.file)=="string"?e.file:void 0)??(typeof(e==null?void 0:e.url)=="string"?e.url:void 0));function AE(){const{inv:e,gacha:t}=b.useMemo(()=>hs(),[]),[n,r]=b.useState(null),[i,s]=b.useState(0),[o,a]=b.useState(null),[l,u]=b.useState({}),c=b.useMemo(()=>{const w={};if(Array.isArray(l))for(const x of l)x!=null&&x.id&&(w[x.id.toLowerCase()]=x);else for(const[x,g]of Object.entries(l))w[x.toLowerCase()]=g;return w},[l]),d=w=>(l[w]??c[w.toLowerCase()]??{id:w}).id,[f,m]=b.useState([]);b.useEffect(()=>{(async()=>{const w=await e.load();s(w.coins);try{r(await PE())}catch{}try{u(await is())}catch{}})()},[]);async function v(w){if(n){a(null);try{const g=(await t.open(n,w,{idempotencyKey:jE("gacha")})).results.map(d);await e.apply({cosmeticsAdd:g,reason:"gacha:open"});const h=await e.load();s(h.coins),m(p=>[...g,...p].slice(0,50)),window.dispatchEvent(new CustomEvent("inv:changed"))}catch(x){a((x==null?void 0:x.message)??"가챠 실패")}}}return C.jsxs("div",{className:"p-6 max-w-xl mx-auto",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx(pt,{to:"/",className:"text-sm opacity-80 hover:opacity-100",children:"← 메인으로"}),C.jsx(pt,{to:"/wardrobe",className:"text-sm opacity-80 hover:opacity-100",children:"옷장으로 →"})]}),C.jsx("h2",{className:"mt-2 text-2xl font-bold",children:"가챠"}),C.jsxs("div",{className:"mt-1 text-sm opacity-80",children:["보유 코인: ",C.jsx("b",{children:i})]}),o&&C.jsx("div",{className:"mt-2 text-red-400 text-sm",children:o}),C.jsxs("div",{className:"mt-4 flex gap-3",children:[C.jsx("button",{className:"px-3 py-2 bg-slate-700 rounded",onClick:()=>v(1),children:"1회"}),C.jsx("button",{className:"px-3 py-2 bg-slate-700 rounded",onClick:()=>v(10),children:"10회"}),C.jsx("button",{className:"ml-auto px-3 py-2 bg-emerald-700 rounded",onClick:async()=>{await e.apply({coinDelta:100,reason:"dev:grant"}),s((await e.load()).coins)},children:"+100 코인(DEV)"})]}),C.jsx("div",{className:"mt-6 grid grid-cols-3 gap-3",children:f.map((w,x)=>{const g=l[w]??c[w.toLowerCase()],h=OE(g);return C.jsxs("div",{className:"border border-white/10 rounded-xl p-2 flex flex-col items-center",children:[C.jsx("div",{className:"w-20 h-20 bg-white/5 rounded-lg overflow-hidden flex items-center justify-center",children:h?C.jsx("img",{src:h,alt:(g==null?void 0:g.name)??w,className:"w-full h-full object-contain"}):C.jsx("span",{className:"text-xs opacity-60",children:"이미지 없음"})}),C.jsxs("div",{className:"mt-2 text-xs text-center leading-tight",children:[C.jsx("div",{className:"font-medium",children:(g==null?void 0:g.name)??w}),(g==null?void 0:g.slot)&&C.jsx("div",{className:"opacity-60",children:g.slot})]})]},x)})}),C.jsx("div",{className:"mt-6 flex justify-end gap-3",children:C.jsx(pt,{to:"/wardrobe",className:"px-3 py-2 bg-indigo-700 rounded",children:"옷장에서 확인"})})]})}function IE(){const{inv:e}=b.useMemo(()=>hs(),[]),[t,n]=b.useState(null);return b.useEffect(()=>{e.load().then(n)},[]),t?C.jsxs("div",{className:"p-6 max-w-xl mx-auto",children:[C.jsx("h2",{className:"text-2xl font-bold",children:"인벤토리"}),C.jsxs("div",{className:"mt-2",children:["코인: ",C.jsx("b",{children:t.coins})]}),C.jsx("h3",{className:"mt-4 font-semibold",children:"아이템"}),C.jsxs("ul",{className:"mt-2 space-y-1",children:[Object.entries(t.items).map(([r,i])=>C.jsxs("li",{className:"text-sm",children:[r,": ",i]},r)),Object.keys(t.items).length===0&&C.jsx("li",{className:"text-sm opacity-70",children:"없음"})]}),C.jsx("h3",{className:"mt-4 font-semibold",children:"코스메틱 보유"}),C.jsxs("ul",{className:"mt-2 space-y-1",children:[Object.keys(t.cosmeticsOwned).map(r=>C.jsx("li",{className:"text-sm",children:r},r)),Object.keys(t.cosmeticsOwned).length===0&&C.jsx("li",{className:"text-sm opacity-70",children:"없음"})]})]}):C.jsx("div",{className:"p-6",children:"로딩…"})}const Qa=["Hair","Hat","Clothes","BodySuit","Pants","Shoes","Sleeves","Necklace","Scarf","Bowtie","Bag","Body","Face"],wi={Hair:"헤어",Hat:"모자",Clothes:"상의/원피스",BodySuit:"바디수트",Pants:"하의",Shoes:"신발",Sleeves:"소매",Necklace:"목걸이",Scarf:"스카프",Bowtie:"보타이",Bag:"가방",Body:"바디",Face:"페이스"},NE={Body:0,BodySuit:5,Pants:10,Shoes:15,Clothes:20,Sleeves:25,Bag:30,Necklace:40,Scarf:45,Bowtie:50,Face:55,Hair:60,Hat:70};function LE(e,t){const n=(t==null?void 0:t.layer)??(t==null?void 0:t.z);return Number.isFinite(n)?Number(n):NE[e]??0}function If(e){const t=(e??"common").toLowerCase();return t==="uncommon"?"uncommon":t==="rare"?"rare":t==="epic"?"epic":t==="legendary"?"legendary":t==="mythic"?"mythic":"common"}const DE={common:"border-white/10",uncommon:"border-emerald-400/60",rare:"border-sky-400/60",epic:"border-violet-400/60",legendary:"border-amber-400/70",mythic:"border-fuchsia-400/70"},$E={common:"일반",uncommon:"고급",rare:"희귀",epic:"영웅",legendary:"전설",mythic:"신화"},Nf="/".replace(/\/$/,""),Zm=e=>{if(e)return/^https?:\/\//i.test(e)?e:e.startsWith("/")?`${Nf}${e}`:`${Nf}/${e}`},Lf=e=>Zm((e==null?void 0:e.src)??(e==null?void 0:e.image)??(e==null?void 0:e.img)??(e==null?void 0:e.renderSrc)??(e==null?void 0:e.render)??(e==null?void 0:e.thumbnail)??(e==null?void 0:e.thumb)??(Array.isArray(e==null?void 0:e.images)?e.images[0]:void 0)??(Array.isArray(e==null?void 0:e.assets)?e.assets[0]:void 0)??(typeof(e==null?void 0:e.file)=="string"?e.file:void 0)??(typeof(e==null?void 0:e.url)=="string"?e.url:void 0)),Er=e=>(e??"").toLowerCase();function UE(e){return e?Array.isArray(e)?e.filter(t=>typeof t=="string"):e instanceof Set?Array.from(e).filter(t=>typeof t=="string"):typeof e=="object"?Object.keys(e):typeof e=="string"?e?[e]:[]:[]:[]}function ME(e){const t=Er(e);if(t.startsWith("hair.")||t.includes("hair"))return"Hair";if(t.startsWith("hat.")||t.startsWith("bow."))return"Hat";if(t.startsWith("clothes.")||t.startsWith("shirts.")||t.startsWith("dress."))return"Clothes";if(t.startsWith("bodysuit."))return"BodySuit";if(t.startsWith("pants."))return"Pants";if(t.startsWith("shoes."))return"Shoes";if(t.startsWith("sleeve."))return"Sleeves";if(t.startsWith("necklace."))return"Necklace";if(t.startsWith("scarf.")||t.startsWith("scaf."))return"Scarf";if(t.startsWith("bag."))return"Bag";if(t.startsWith("body."))return"Body";if(t.startsWith("face."))return"Face";if(t.startsWith("bowtie."))return"Bowtie"}function BE(){const{inv:e}=b.useMemo(()=>hs(),[]),[t,n]=b.useState(null),[r,i]=b.useState({}),[s,o]=b.useState("Hair"),[a,l]=b.useState("");b.useEffect(()=>{(async()=>{try{const[S,P]=await Promise.all([e.load(),is()]);n(S);const O=Array.isArray(P)?Object.fromEntries(P.map(F=>[F.id,F])):P;i(O)}catch{}})()},[e]),b.useEffect(()=>{let S=!0;const P=async()=>{try{const K=await e.load();if(!S)return;n(K)}catch{}},O=()=>P(),F=()=>P();return window.addEventListener("inv:changed",O),window.addEventListener("focus",F),()=>{S=!1,window.removeEventListener("inv:changed",O),window.removeEventListener("focus",F)}},[e]);const u=b.useMemo(()=>{const S={};if(Array.isArray(r))for(const P of r)P!=null&&P.id&&(S[Er(P.id)]=P);else for(const[P,O]of Object.entries(r))S[Er(P)]=O;return S},[r]),c=S=>u[Er(S)],d=S=>{var P;return((P=c(S))==null?void 0:P.id)??S},f=b.useMemo(()=>{const S=(t==null?void 0:t.cosmeticsOwned)??(t==null?void 0:t.owned)??[];return UE(S)},[t]),m=b.useMemo(()=>new Set(f.map(Er)),[f]),v=(t==null?void 0:t.equipped)||{},w=b.useMemo(()=>{const S={...u};for(const P of m)S[P]||(S[P]={id:P,name:P,slot:ME(P)??"Clothes",rarity:"common"},console.warn("[wardrobe] owned id missing in catalog:",P));return S},[u,m]),x=b.useMemo(()=>{const S=[];for(const P of Qa){const O=v[P];if(!O)continue;const F=c(O);S.push({id:O,slot:P,src:Lf(F),name:(F==null?void 0:F.name)??O,z:LE(P,F)})}return S.sort((P,O)=>P.z-O.z),S},[v,u]),g=b.useMemo(()=>Object.values(w).filter(S=>m.has(Er(S.id))),[w,m]),h=b.useMemo(()=>{const S=new Map;for(const P of Qa)S.set(P,0);for(const P of g)S.set(P.slot,(S.get(P.slot)||0)+1);return S},[g]),[p,E]=b.useState("all"),j=v[s],R=b.useMemo(()=>{const S=a.trim().toLowerCase();return g.filter(P=>P.slot===s).filter(P=>S?`${P.name??""} ${P.id}`.toLowerCase().includes(S):!0).filter(P=>p==="all"?!0:If(P.rarity)===p)},[g,s,a,p]);async function y(S,P){const O=P?d(P):(()=>{const F=g.filter(ie=>ie.slot===S),K=ie=>{const he=`${ie.id} ${ie.name??""}`.toLowerCase();return he.includes("blank")||he.includes("basic")||he.includes("regular")||he.includes("default")||he.endsWith(".null")?0:1},ce=F.sort((ie,he)=>K(ie)-K(he))[0];return ce?d(ce.id):void 0})();await e.apply({equip:{[S]:O},reason:P?"wardrobe:equip":"wardrobe:unequip"}),window.dispatchEvent(new CustomEvent("inv:changed")),n(await e.load())}return C.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx(pt,{to:"/",className:"text-sm opacity-80 hover:opacity-100",children:"← 메인으로"}),C.jsx("h2",{className:"text-2xl font-bold",children:"옷장"}),C.jsx("div",{})]}),C.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[C.jsx("div",{className:"aspect-square rounded-xl bg-slate-900/50 border border-white/10 relative overflow-hidden",children:x.map(S=>C.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{zIndex:S.z},children:S.src?C.jsx("img",{src:Zm(S.src),alt:S.name??S.id,className:"max-w-full max-h-full object-contain pointer-events-none select-none",draggable:!1}):C.jsx("div",{className:"text-xs opacity-60",children:S.slot})},`${S.slot}:${S.id}`))}),C.jsxs("div",{className:"md:col-span-2",children:[C.jsx("div",{className:"flex flex-wrap gap-2",children:Qa.map(S=>{const P=h.get(S)??0,O=S===s;return C.jsxs("button",{onClick:()=>o(S),className:`px-3 py-2 rounded-lg border ${O?"border-emerald-500 bg-emerald-500/10":"border-white/10 bg-white/5"} `,title:`${wi[S]} (${P})`,children:[wi[S]," ",C.jsxs("span",{className:"opacity-60 text-xs",children:["(",P,")"]})]},S)})}),C.jsxs("div",{className:"mt-4 flex gap-2",children:[C.jsxs("button",{className:"px-3 py-2 rounded bg-emerald-600 hover:bg-emerald-500 disabled:opacity-40",disabled:!j,onClick:()=>y(s,void 0),title:"해제하고 기본 상태로",children:[wi[s]," 해제"]}),C.jsx("input",{className:"px-3 py-2 rounded bg-slate-800 flex-1",placeholder:"아이템 검색 (이름/ID)",value:a,onChange:S=>l(S.target.value)}),C.jsxs("select",{className:"px-3 py-2 rounded bg-slate-800",value:p,onChange:S=>E(S.target.value),title:"희귀도 필터",children:[C.jsx("option",{value:"all",children:"전체"}),C.jsx("option",{value:"common",children:"일반"}),C.jsx("option",{value:"uncommon",children:"고급"}),C.jsx("option",{value:"rare",children:"희귀"}),C.jsx("option",{value:"epic",children:"영웅"}),C.jsx("option",{value:"legendary",children:"전설"}),C.jsx("option",{value:"mythic",children:"신화"})]})]}),C.jsxs("div",{className:"mt-2 text-sm opacity-80",children:["현재 ",wi[s],": ",C.jsx("b",{children:j??"없음(기본)"})]})]})]}),C.jsx("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3",children:R.map(S=>{const P=j===S.id,O=If(S.rarity);return C.jsxs("button",{onClick:()=>y(s,S.id),className:`group text-left border rounded-xl p-2 hover:border-emerald-500 transition
                ${P?"border-emerald-500 bg-emerald-500/10":DE[O]+" bg-white/5"}`,title:S.id,children:[C.jsxs("div",{className:"w-full aspect-square rounded-lg overflow-hidden bg-white/5 grid place-items-center relative",children:[(()=>{const F=c(S.id)??S,K=Lf(F);return K?C.jsx("img",{src:K,alt:F.name??S.id,className:"max-w-full max-h-full object-contain pointer-events-none",loading:"lazy"}):C.jsx("span",{className:"text-xs opacity-60",children:"이미지 없음"})})(),P&&C.jsx("span",{className:"absolute top-1 right-1 text-[10px] px-1.5 py-0.5 rounded bg-emerald-600/80 text-white",children:"장착중"})]}),C.jsxs("div",{className:"mt-2 text-xs",children:[C.jsx("div",{className:"font-medium truncate",children:S.name??S.id}),C.jsx("div",{className:"opacity-60",children:wi[S.slot]??S.slot}),C.jsx("div",{className:"mt-1 opacity-60",children:$E[O]})]})]},S.id)})})]})}function FE(){const{inv:e}=b.useMemo(()=>hs(),[]),[t,n]=b.useState(null),[r,i]=b.useState([]);return b.useEffect(()=>{e.load().then(n),TE().then(s=>i(s.cosmetics))},[]),t?C.jsxs("div",{className:"p-6 max-w-3xl mx-auto",children:[C.jsx("h2",{className:"text-2xl font-bold",children:"도감"}),C.jsx("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 gap-2",children:r.map(s=>{const o=!!t.cosmeticsOwned[s.id];return C.jsxs("div",{className:`p-3 rounded border ${o?"opacity-100":"opacity-50"}`,children:[C.jsx("div",{className:"text-sm",children:s.name}),C.jsx("div",{className:"text-xs opacity-80",children:s.type}),C.jsx("div",{className:"text-xs mt-1",children:o?"보유":"미보유"})]},s.id)})})]}):C.jsx("div",{className:"p-6",children:"로딩…"})}const zE=["Hair","Hat","Clothes","BodySuit","Pants","Shoes","Sleeves","Necklace","Scarf","Bowtie","Bag","Body","Face"];function WE(e,t){var i;const n=Object.values(t).filter(s=>s.slot===e),r=s=>{const o=`${s.id} ${s.name??""}`.toLowerCase();return o.includes("blank")||o.includes("basic")||o.includes("regular")||o.includes("default")||o.endsWith(".null")||o.includes("없음")?0:1};return(i=n.sort((s,o)=>r(s)-r(o))[0])==null?void 0:i.id}async function HE(){const e=new gm,t=await e.load();if(t&&t.equipped&&Object.keys(t.equipped).length>0)return;const n=await is(),r=Array.isArray(n)?Object.fromEntries(n.filter(Boolean).map(a=>[a.id,a])):n,i=new Map;for(const a of Object.values(r)){const l=a==null?void 0:a.slot;l&&a.active===!0&&(i.has(l)?console.warn("[bootstrap] duplicate active for slot:",l,"keep=",i.get(l),"ignore=",a.id):i.set(l,a.id))}const s={},o=new Set;for(const a of zE){const l=i.get(a)??WE(a,r);l&&(s[a]=l,o.add(l))}if(Object.keys(s).length!==0){await e.apply({equip:s,cosmeticsAdd:Array.from(o),reason:"seed:first-run"});try{window.dispatchEvent(new CustomEvent("inv:changed"))}catch{}}}const Df=Wm("https://zfrsmcmyjpjyqrvgjuyl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpmcnNtY215anBqeXFydmdqdXlsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA0NjE5NjIsImV4cCI6MjA3NjAzNzk2Mn0.qTChPuTQJXlPabUgx18FMQJgTvwDAYLHTLajTU527kA",{auth:{persistSession:!1}});function VE(){const e=location.pathname.match(/\/token\/([0-9a-f-]{36})/i);return e?e[1]:new URLSearchParams(location.search).get("token")}function $f(e){return e?Array.isArray(e)?e[0]??null:e:null}async function qE(){try{const e=VE();if(!e)return{consumed:!1,gate:"ok",message:"",userId:null};const t=`${navigator.userAgent}|${screen.width}x${screen.height}`,n=await Df.rpc("consume_qr_token",{p_token_id:e,p_device_fp:t});if(n.error)return{consumed:!1,gate:"blocked",message:n.error.message||"토큰 소비 실패",userId:null};const r=$f(n.data),i=r==null?void 0:r.user_id;if(!i)return{consumed:!1,gate:"blocked",message:"user_id 응답 없음",userId:null};localStorage.setItem("student_user_id",i);const s=await Df.rpc("get_access_gate_simple",{p_user_id:i});if(s.error)return{consumed:!0,gate:"blocked",message:s.error.message||"접속 확인 실패",userId:i};const o=$f(s.data),a=(o==null?void 0:o.gate)??"blocked",l=(o==null?void 0:o.message)??"";return{consumed:!0,gate:a,message:l,userId:i}}catch(e){return{consumed:!1,gate:"blocked",message:(e==null?void 0:e.message)??"네트워크 오류",userId:null}}}function KE(){const[e,t]=Ya.useState({loading:!0,gate:"",message:""});if(Ya.useEffect(()=>{(async()=>{const r=await qE();r.gate==="ok"?location.replace("/home"):t({loading:!1,gate:r.gate,message:r.message})})()},[]),e.loading)return C.jsx("div",{className:"p-6",children:"접속 확인 중…"});const n=e.gate==="maintenance"?"서버 점검 중":e.gate==="blocked"?"접속 차단됨":e.gate==="out_of_window"?"접속 가능 시간이 아님":"알 수 없는 상태";return C.jsxs("div",{className:"m-6 rounded-xl border p-5 bg-yellow-50",children:[C.jsx("h2",{className:"font-bold text-lg",children:n}),C.jsx("p",{className:"text-sm mt-1",children:e.message||"관리자에게 문의하세요."}),C.jsxs("div",{className:"mt-3 flex gap-3",children:[C.jsx("a",{className:"underline",href:"/",children:"메인으로"}),C.jsx("button",{className:"underline",onClick:()=>location.reload(),children:"다시 시도"})]})]})}const JE=cw([{path:"/",element:C.jsx(Fw,{})},{path:"/lobby",element:C.jsx(zw,{})},{path:"/play",element:C.jsx(kE,{})},{path:"/result",element:C.jsx(bE,{})},{path:"/gacha",element:C.jsx(AE,{})},{path:"/inventory",element:C.jsx(IE,{})},{path:"/wardrobe",element:C.jsx(BE,{})},{path:"/codex",element:C.jsx(FE,{})},{path:"/token/:id",element:C.jsx(KE,{})}]);HE().catch(()=>{});Xp(document.getElementById("root")).render(C.jsx(ww,{router:JE}));
